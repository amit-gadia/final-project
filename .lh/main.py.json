{
    "sourceFile": "main.py",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 60,
            "patches": [
                {
                    "date": 1622888838086,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1622890469472,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -794,9 +794,8 @@\n             return Placement.add_pla()\r\n         elif(role==\"Accounts\"):\r\n             return Accounts.add_acc()\r\n         elif(role==\"Transport\"):\r\n-            helllo\r\n             return Transport.add_tra()\r\n         elif(role==\"Library\"):\r\n             return Library.add_lib()\r\n         elif(role==\"Faculty\"):\r\n"
                },
                {
                    "date": 1622891146771,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -762,8 +762,166 @@\n         cur.execute(sql,val)\r\n         conn.commit()\r\n         return Student.add_stu()\r\n \r\n+\r\n+@app.route('/admin_tt',methods=['POST'])\r\n+def admin_add_time():\r\n+   \r\n+   note00=request.form['note00']\r\n+   note01=request.form['note01']\r\n+   note02=request.form['note02']\r\n+   note03=request.form['note03']\r\n+   note04=request.form['note04']\r\n+   note05=request.form['note05']\r\n+   note06=request.form['note06']\r\n+   note07=request.form['note07']\r\n+   note10=request.form['note10']\r\n+   note11=request.form['note11']\r\n+   note12=request.form['note12']\r\n+   note13=request.form['note13']\r\n+   note14=request.form['note14']\r\n+   note15=request.form['note15']\r\n+   note16=request.form['note16']\r\n+   note17=request.form['note17']\r\n+   note20=request.form['note20']\r\n+   note21=request.form['note21']\r\n+   note22=request.form['note22']\r\n+   note23=request.form['note23']\r\n+   note24=request.form['note24']\r\n+   note25=request.form['note25']\r\n+   note26=request.form['note26']\r\n+   note27=request.form['note27']\r\n+   note30=request.form['note30']\r\n+   note31=request.form['note31']\r\n+   note32=request.form['note32']\r\n+   note33=request.form['note33']\r\n+   note34=request.form['note34']\r\n+   note35=request.form['note35']\r\n+   note36=request.form['note36']\r\n+   note37=request.form['note37']   \r\n+   note40=request.form['note40']\r\n+   note41=request.form['note41']\r\n+   note42=request.form['note42']\r\n+   note43=request.form['note43']\r\n+   note44=request.form['note44']\r\n+   note45=request.form['note45']\r\n+   note46=request.form['note46']\r\n+   note47=request.form['note47']\r\n+   note50=request.form['note50']\r\n+   note51=request.form['note51']\r\n+   note52=request.form['note52']\r\n+   note53=request.form['note53']\r\n+   note54=request.form['note54']\r\n+   note55=request.form['note55']\r\n+   note56=request.form['note56']\r\n+   note57=request.form['note57']\r\n+   subnote00=request.form['subnote00']\r\n+   subnote01=request.form['subnote01']\r\n+   subnote02=request.form['subnote02']\r\n+   subnote03=request.form['subnote03']\r\n+   subnote04=request.form['subnote04']\r\n+   subnote05=request.form['subnote05']\r\n+   subnote06=request.form['subnote06']\r\n+   subnote07=request.form['subnote07']\r\n+   subnote10=request.form['subnote10']\r\n+   subnote11=request.form['subnote11']\r\n+   subnote12=request.form['subnote12']\r\n+   subnote13=request.form['subnote13']\r\n+   subnote14=request.form['subnote14']\r\n+   subnote15=request.form['subnote15']\r\n+   subnote16=request.form['subnote16']\r\n+   subnote17=request.form['subnote17']\r\n+   subnote20=request.form['subnote10']\r\n+   subnote21=request.form['subnote11']\r\n+   subnote22=request.form['subnote12']\r\n+   subnote23=request.form['subnote13']\r\n+   subnote24=request.form['subnote14']\r\n+   subnote25=request.form['subnote15']\r\n+   subnote26=request.form['subnote16']\r\n+   subnote27=request.form['subnote17']\r\n+   subnote30=request.form['subnote10']\r\n+   subnote31=request.form['subnote11']\r\n+   subnote32=request.form['subnote12']\r\n+   subnote33=request.form['subnote13']\r\n+   subnote34=request.form['subnote14']\r\n+   subnote35=request.form['subnote15']\r\n+   subnote36=request.form['subnote16']\r\n+   subnote37=request.form['subnote17']\r\n+   subnote40=request.form['subnote10']\r\n+   subnote41=request.form['subnote11']\r\n+   subnote42=request.form['subnote12']\r\n+   subnote43=request.form['subnote13']\r\n+   subnote44=request.form['subnote14']\r\n+   subnote45=request.form['subnote15']\r\n+   subnote46=request.form['subnote16']\r\n+   subnote47=request.form['subnote17']\r\n+   subnote50=request.form['subnote10']\r\n+   subnote51=request.form['subnote11']\r\n+   subnote52=request.form['subnote12']\r\n+   subnote53=request.form['subnote13']\r\n+   subnote54=request.form['subnote14']\r\n+   subnote55=request.form['subnote15']\r\n+   subnote56=request.form['subnote16']\r\n+   subnote57=request.form['subnote17']\r\n+   subcode=request.form['sub_code']\r\n+   print(subcode)\r\n+   sql=\"delete from timetable where classcode=%s;\"\r\n+   val=(subcode,)\r\n+   crs.execute(sql,val)\r\n+   sql=\"insert into timetable(sub_name,fac_name,ab,classcode) values(%s,%s,%s,%s);\"\r\n+   val=[(note00,subnote00,'subnote00',subcode),\r\n+        (note01,subnote01,'subnote01',subcode),\r\n+        (note02,subnote02,'subnote02',subcode),\r\n+        (note03,subnote03,'subnote03',subcode),\r\n+        (note04,subnote04,'subnote04',subcode),\r\n+        (note05,subnote05,'subnote05',subcode),\r\n+        (note06,subnote06,'subnote06',subcode),\r\n+        (note07,subnote07,'subnote07',subcode),\r\n+        (note10,subnote10,'subnote10',subcode),\r\n+        (note11,subnote11,'subnote11',subcode),\r\n+        (note12,subnote12,'subnote12',subcode),\r\n+        (note13,subnote13,'subnote13',subcode),\r\n+        (note14,subnote14,'subnote14',subcode),\r\n+        (note15,subnote15,'subnote15',subcode),\r\n+        (note16,subnote16,'subnote16',subcode),\r\n+        (note17,subnote17,'subnote17',subcode),\r\n+        (note20,subnote20,'subnote20',subcode),\r\n+        (note21,subnote21,'subnote21',subcode),\r\n+        (note22,subnote22,'subnote22',subcode),\r\n+        (note23,subnote23,'subnote23',subcode),\r\n+        (note24,subnote24,'subnote24',subcode),\r\n+        (note25,subnote25,'subnote25',subcode),\r\n+        (note26,subnote26,'subnote26',subcode),\r\n+        (note27,subnote27,'subnote27',subcode),\r\n+        (note30,subnote30,'subnote30',subcode),\r\n+        (note31,subnote31,'subnote31',subcode),\r\n+        (note32,subnote32,'subnote32',subcode),\r\n+        (note33,subnote33,'subnote33',subcode),\r\n+        (note34,subnote34,'subnote34',subcode),\r\n+        (note35,subnote35,'subnote35',subcode),\r\n+        (note36,subnote36,'subnote36',subcode),\r\n+        (note37,subnote37,'subnote37',subcode),\r\n+        (note40,subnote40,'subnote40',subcode),\r\n+        (note41,subnote41,'subnote41',subcode),\r\n+        (note42,subnote42,'subnote42',subcode),\r\n+        (note43,subnote43,'subnote43',subcode),\r\n+        (note44,subnote44,'subnote44',subcode),\r\n+        (note45,subnote45,'subnote45',subcode),\r\n+        (note46,subnote46,'subnote46',subcode),\r\n+        (note47,subnote47,'subnote47',subcode),\r\n+        (note50,subnote50,'subnote50',subcode),\r\n+        (note51,subnote51,'subnote51',subcode),\r\n+        (note52,subnote52,'subnote52',subcode),\r\n+        (note53,subnote53,'subnote53',subcode),\r\n+        (note54,subnote54,'subnote54',subcode),\r\n+        (note55,subnote55,'subnote55',subcode),\r\n+        (note56,subnote56,'subnote56',subcode),\r\n+        (note57,subnote57,'subnote57',subcode)]\r\n+   crs.executemany(sql,val)\r\n+   ab.commit()\r\n+   return admin_add_timetable()\r\n+\r\n class add_roles:\r\n     @app.route(\"/addnewrole\",methods=['POST'])\r\n     def add_role():\r\n         f_n=request.form['f_n']\r\n"
                },
                {
                    "date": 1622891188897,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -919,9 +919,89 @@\n         (note57,subnote57,'subnote57',subcode)]\r\n    crs.executemany(sql,val)\r\n    ab.commit()\r\n    return admin_add_timetable()\r\n+@app.route('/TIME_TABLE')\r\n+def admin_add_timetable():\r\n+   sql=\"select name from users where role='faculty'\";\r\n+   crs.execute(sql)\r\n+   note=crs.fetchall()\r\n+   sql=\"select * from code;\";\r\n+   crs.execute(sql)\r\n+   code=crs.fetchall()\r\n+   sql=\"select sub_name from subject;\"\r\n+   crs.execute(sql)\r\n+   subnote=crs.fetchall()\r\n+   sql=\"select distinct classcode from timetable;\"\r\n+   crs.execute(sql)\r\n+   classnote=crs.fetchall()\r\n+   return render_template('admin_timetable.html',b=['Monday','Tuesday','Wednesday','Thrusday','Friday','Saturday'],notee=note,classnotee=classnote,codee=code,lencode=len(code),lenclassnotee=len(classnote),lenote=len(note),subnotee=subnote,sublenote=len(subnote))\r\n \r\n+@app.route('/STU_TIME_TABLE')\r\n+def view_timetable():\r\n+   code=session.get('code')\r\n+   print(code)\r\n+   \r\n+   sql=\"select * from timetable where classcode=%s;\"\r\n+   val=(code,)\r\n+   crs.execute(sql,val)\r\n+   tt=crs.fetchall()\r\n+   ff=tt[0][4]\r\n+   print(ff)\r\n+   c={}\r\n+   for i in tt:\r\n+      c[i[3]+\"a\"]=i[1]\r\n+      c[i[3]+\"b\"]=i[2]\r\n+   return render_template('stu_time.html',dataa=c,b=['Monday','Tuesday','Wednesday','Thrusday','Friday','Saturday'],kke=ff)\r\n+\r\n+@app.route('/stu_tt',methods=['POST'])\r\n+def stu_data(code):   \r\n+   code=request.form['code']\r\n+   print(code)\r\n+   \r\n+   sql=\"select * from timetable where classcode=%s;\"\r\n+   val=(code,)\r\n+   crs.execute(sql,val)\r\n+   tt=crs.fetchall()\r\n+   ff=tt[0][4]\r\n+   print(ff)\r\n+   b={}\r\n+   for i in tt:\r\n+      b[i[3]+\"a\"]=i[1]\r\n+      b[i[3]+\"b\"]=i[2]\r\n+   return view_timetable(b,ff)\r\n+@app.route('/FAC_TIME_TABLE')\r\n+def fac_view_timetable(data={},kk=\"\"):\r\n+   sql=\"select distinct sub_name from timetable;\"\r\n+   crs.execute(sql)\r\n+   classcode=crs.fetchall()\r\n+   print(classcode)\r\n+   print(data,kk)\r\n+   return render_template('fac_time.html',dataa=data,b=['Monday','Tuesday','Wednesday','Thrusday','Friday','Saturday'],classcodee=classcode,lenclasscode=len(classcode),kke=kk)\r\n+\r\n+@app.route('/stu_fac',methods=['POST'])\r\n+def fac_data():   \r\n+   fac=request.form['fac']\r\n+   \r\n+   sql=\"select * from timetable where sub_name=%s;\"\r\n+   val=(fac,)\r\n+   crs.execute(sql,val)\r\n+   tt=crs.fetchall()\r\n+   kk=fac\r\n+   print(tt)\r\n+   b={}\r\n+   for i in tt:\r\n+      b[i[3]+\"a\"]=i[1]\r\n+      b[i[3]+\"b\"]=i[2]\r\n+      b[i[3]+\"c\"]=i[4]\r\n+   print(b)\r\n+   return fac_view_timetable(b,kk)\r\n+\r\n+@app.route('/HELLO',methods=['POST'])\r\n+def adview_timetable():\r\n+   codr=request.form['ame']\r\n+   return \"HELLo\"\r\n+\r\n class add_roles:\r\n     @app.route(\"/addnewrole\",methods=['POST'])\r\n     def add_role():\r\n         f_n=request.form['f_n']\r\n"
                },
                {
                    "date": 1622891448171,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -866,9 +866,9 @@\n    subcode=request.form['sub_code']\r\n    print(subcode)\r\n    sql=\"delete from timetable where classcode=%s;\"\r\n    val=(subcode,)\r\n-   crs.execute(sql,val)\r\n+   cur.execute(sql,val)\r\n    sql=\"insert into timetable(sub_name,fac_name,ab,classcode) values(%s,%s,%s,%s);\"\r\n    val=[(note00,subnote00,'subnote00',subcode),\r\n         (note01,subnote01,'subnote01',subcode),\r\n         (note02,subnote02,'subnote02',subcode),\r\n@@ -916,25 +916,25 @@\n         (note54,subnote54,'subnote54',subcode),\r\n         (note55,subnote55,'subnote55',subcode),\r\n         (note56,subnote56,'subnote56',subcode),\r\n         (note57,subnote57,'subnote57',subcode)]\r\n-   crs.executemany(sql,val)\r\n+   cur.executemany(sql,val)\r\n    ab.commit()\r\n    return admin_add_timetable()\r\n @app.route('/TIME_TABLE')\r\n def admin_add_timetable():\r\n    sql=\"select name from users where role='faculty'\";\r\n-   crs.execute(sql)\r\n-   note=crs.fetchall()\r\n+   cur.execute(sql)\r\n+   note=cur.fetchall()\r\n    sql=\"select * from code;\";\r\n-   crs.execute(sql)\r\n-   code=crs.fetchall()\r\n+   cur.execute(sql)\r\n+   code=cur.fetchall()\r\n    sql=\"select sub_name from subject;\"\r\n-   crs.execute(sql)\r\n-   subnote=crs.fetchall()\r\n+   cur.execute(sql)\r\n+   subnote=cur.fetchall()\r\n    sql=\"select distinct classcode from timetable;\"\r\n-   crs.execute(sql)\r\n-   classnote=crs.fetchall()\r\n+   cur.execute(sql)\r\n+   classnote=cur.fetchall()\r\n    return render_template('admin_timetable.html',b=['Monday','Tuesday','Wednesday','Thrusday','Friday','Saturday'],notee=note,classnotee=classnote,codee=code,lencode=len(code),lenclassnotee=len(classnote),lenote=len(note),subnotee=subnote,sublenote=len(subnote))\r\n \r\n @app.route('/STU_TIME_TABLE')\r\n def view_timetable():\r\n@@ -942,10 +942,10 @@\n    print(code)\r\n    \r\n    sql=\"select * from timetable where classcode=%s;\"\r\n    val=(code,)\r\n-   crs.execute(sql,val)\r\n-   tt=crs.fetchall()\r\n+   cur.execute(sql,val)\r\n+   tt=cur.fetchall()\r\n    ff=tt[0][4]\r\n    print(ff)\r\n    c={}\r\n    for i in tt:\r\n@@ -959,10 +959,10 @@\n    print(code)\r\n    \r\n    sql=\"select * from timetable where classcode=%s;\"\r\n    val=(code,)\r\n-   crs.execute(sql,val)\r\n-   tt=crs.fetchall()\r\n+   cur.execute(sql,val)\r\n+   tt=cur.fetchall()\r\n    ff=tt[0][4]\r\n    print(ff)\r\n    b={}\r\n    for i in tt:\r\n@@ -971,10 +971,10 @@\n    return view_timetable(b,ff)\r\n @app.route('/FAC_TIME_TABLE')\r\n def fac_view_timetable(data={},kk=\"\"):\r\n    sql=\"select distinct sub_name from timetable;\"\r\n-   crs.execute(sql)\r\n-   classcode=crs.fetchall()\r\n+   cur.execute(sql)\r\n+   classcode=cur.fetchall()\r\n    print(classcode)\r\n    print(data,kk)\r\n    return render_template('fac_time.html',dataa=data,b=['Monday','Tuesday','Wednesday','Thrusday','Friday','Saturday'],classcodee=classcode,lenclasscode=len(classcode),kke=kk)\r\n \r\n@@ -983,10 +983,10 @@\n    fac=request.form['fac']\r\n    \r\n    sql=\"select * from timetable where sub_name=%s;\"\r\n    val=(fac,)\r\n-   crs.execute(sql,val)\r\n-   tt=crs.fetchall()\r\n+   cur.execute(sql,val)\r\n+   tt=cur.fetchall()\r\n    kk=fac\r\n    print(tt)\r\n    b={}\r\n    for i in tt:\r\n"
                },
                {
                    "date": 1622910198703,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,9 +4,9 @@\n from flask import *\r\n from flask.app import setupmethod\r\n import mysql.connector\r\n import datetime\r\n-import os\r\n+import os12\r\n conn=mysql.connector.connect(host=\"localhost\",user=\"root\",password=\"Root\",database=\"cms\",auth_plugin=\"mysql_native_password\")\r\n cur=conn.cursor(buffered=True)\r\n app = Flask(__name__)\r\n app.secret_key=\"abc\"\r\n@@ -25,13 +25,13 @@\n     return send_from_directory(DOWNLOAD_DIRECTORY, file, as_attachment=True)\r\n class adminnotice:\r\n     @app.route(\"/tnotice\")\r\n     def notice():\r\n-        st=\"maintemp/admin_main.html\"\r\n+        st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(st,temp=\"/noticeicon\")\r\n     @app.route(\"/noticeicon\")\r\n     def show_noticemain():\r\n-        st=\"maintemp/\"+session['userrole']+\"main.html\"\r\n+        st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(\"notice/addnotice.html\")\r\n     @app.route(\"/addnewnote\",methods=['POST'])\r\n     def add_notice():\r\n         date=request.form['date']\r\n@@ -50,13 +50,13 @@\n         return view_notice.show_notice()\r\n class hostel:\r\n     @app.route(\"/addhroom\")\r\n     def addroom():\r\n-        st=\"maintemp/admin_main.html\"\r\n+        st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(st,temp=\"/addroomicon\")\r\n     @app.route(\"/addroomicon\")\r\n     def addroomicon():\r\n-        st=\"maintemp/\"+session['userrole']+\"main.html\"\r\n+        st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(\"facilities/addroom.html\")\r\n     @app.route(\"/addnewroom\",methods=['POST'])\r\n     def adnewroom():\r\n         addroom=request.form['addroom']\r\n@@ -67,13 +67,13 @@\n         return hostel.addroomicon()\r\n     \r\n     @app.route(\"/addhmess\")\r\n     def addmess():\r\n-        st=\"maintemp/admin_main.html\"\r\n+        st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(st,temp=\"/addmessicon\")\r\n     @app.route(\"/addmessicon\")\r\n     def addmessicon():\r\n-        st=\"maintemp/\"+session['userrole']+\"main.html\"\r\n+        st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(\"facilities/addmess.html\")\r\n     @app.route(\"/addmessroom\",methods=['POST'])\r\n     def admessroom():\r\n         breakfast=request.form['breakfast']\r\n@@ -86,13 +86,13 @@\n         return hostel.addmessicon()\r\n class adminacc:\r\n     @app.route(\"/Accounts\")\r\n     def acc():\r\n-        st=\"maintemp/admin_main.html\"\r\n+        st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(st,temp=\"/acc\")\r\n     @app.route(\"/acc\")\r\n     def show_Acc():\r\n-        st=\"maintemp/\"+session['userrole']+\"main.html\"\r\n+        st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(\"accounts/fee.html\")\r\n     @app.route(\"/fee_det\",methods=['POST'])\r\n     def feee_det(regno=''):\r\n         if(regno==''):\r\n@@ -125,46 +125,46 @@\n             elif(i[3]=='a'):\r\n                 a.append(int(i[2]))\r\n         print(sum(t),sum(h),sum(a))\r\n         sa=sum(a)\r\n-        ha=sum(a)\r\n-        ta=sum(a)\r\n+        ha=sum(h)\r\n+        ta=sum(t)\r\n         icf=int(cf[0][0])\r\n         print(icf)\r\n         return render_template(\"accounts/viewfees.html\",cf=icf,a=sa,h=ha,t=ta,dataa=data)\r\n     @app.route(\"/TAccounts\")\r\n     def tacc():\r\n-        st=\"maintemp/admin_main.html\"\r\n+        st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(st,temp=\"/tacc\")\r\n     @app.route(\"/tacc\")\r\n     def show_tAcc():\r\n-        st=\"maintemp/\"+session['userrole']+\"main.html\"\r\n+        st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(\"accounts/feet.html\")\r\n     @app.route(\"/HAccounts\")\r\n     def hacc():\r\n-        st=\"maintemp/admin_main.html\"\r\n+        st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(st,temp=\"/hacc\")\r\n     @app.route(\"/hacc\")\r\n     def show_hcc():\r\n-        st=\"maintemp/\"+session['userrole']+\"main.html\"\r\n+        st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(\"accounts/feeh.html\")\r\n     @app.route(\"/AAccounts\")\r\n     def aacc():\r\n-        st=\"maintemp/admin_main.html\"\r\n+        st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(st,temp=\"/aacc\")\r\n     @app.route(\"/aacc\")\r\n     def show_aAcc():\r\n-        st=\"maintemp/\"+session['userrole']+\"main.html\"\r\n+        st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(\"accounts/feea.html\")\r\n     \r\n class adminplacement:\r\n     @app.route(\"/Addcompany\")\r\n     def Addcompany():\r\n-        st=\"maintemp/admin_main.html\"\r\n+        st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(st,temp=\"/Addcompanyicon\")\r\n     @app.route(\"/Addcompanyicon\")\r\n     def show_Addcompanymain():\r\n-        st=\"maintemp/\"+session['userrole']+\"main.html\"\r\n+        st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         sql=\"select branch from coursereg;\"\r\n         cur.execute(sql)\r\n         es=cur.fetchall()\r\n         lenes=len(es)\r\n@@ -187,13 +187,13 @@\n         return adminplacement.show_Addcompanymain()\r\n \r\n     @app.route(\"/adddrive\")\r\n     def adddrive():\r\n-        st=\"maintemp/admin_main.html\"\r\n+        st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(st,temp=\"/adddriveicon\")\r\n     @app.route(\"/adddriveicon\")\r\n     def show_adddrivemain():\r\n-        st=\"maintemp/\"+session['userrole']+\"main.html\"\r\n+        st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         sql=\"select name from company;\"\r\n         cur.execute(sql)\r\n         es=cur.fetchall()\r\n         lenes=len(es)\r\n@@ -218,22 +218,22 @@\n         return adminplacement.show_adddrivemain()\r\n \r\n     @app.route(\"/eligible_stu\")\r\n     def eligible():\r\n-        st=\"maintemp/admin_main.html\"\r\n+        st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(st,temp=\"/eligibleicon\")\r\n     @app.route(\"/eligibleicon\")\r\n     def eligiblemain():\r\n-        st=\"maintemp/\"+session['userrole']+\"main.html\"\r\n+        st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         sql=\"select name from company;\"\r\n         cur.execute(sql)\r\n         es=cur.fetchall()\r\n         lenes=len(es)\r\n         return render_template(\"placement/eligible.html\",es=lenes,dataes=es)\r\n     \r\n     @app.route(\"/listecmp\",methods=['POST'])\r\n     def eligiblelistmain():\r\n-        st=\"maintemp/\"+session['userrole']+\"main.html\"\r\n+        st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         eligiblestream=request.form['eligiblestream']\r\n         sql=\"select * from company where name=%s;\"\r\n         val=(eligiblestream,)\r\n         cur.execute(sql,val)\r\n@@ -265,9 +265,9 @@\n         return render_template(\"placement/list.html\",stud=stu,lstud=lstu)\r\n class att:\r\n     @app.route(\"/Attendance\")\r\n     def att():\r\n-        st=\"maintemp/admin_main.html\"\r\n+        st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(st,temp=\"/course_attt\")\r\n     @app.route(\"/course_attt\")\r\n     def add_course_attt():\r\n \r\n@@ -333,9 +333,9 @@\n         return render_template('academics/viewatt.html',abbs=abbs,rns=rns,lena=len(abbs))\r\n \r\n     @app.route(\"/ATt_set\")\r\n     def attset():\r\n-        st=\"maintemp/admin_main.html\"\r\n+        st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(st,temp=\"/set_attt\")\r\n     @app.route(\"/set_attt\")\r\n     def add_atttser():\r\n         b=['','08:00-09:00','09:00-10:00','10:00-11:00','11:00-12:00','12:00-13:00','13:00-14:00','14:00-15:00']\r\n@@ -344,18 +344,18 @@\n \r\n class tt:\r\n     @app.route(\"/Generate_tt\")\r\n     def tt():\r\n-        st=\"maintemp/admin_main.html\"\r\n+        st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(st,temp=\"/Generate_ttt\")\r\n     @app.route(\"/Generate_ttt\")\r\n     def add_ttt():\r\n         b=['','08:00-09:00','09:00-10:00','10:00-11:00','11:00-12:00','12:00-13:00','13:00-14:00','14:00-15:00']\r\n         a=['Monday','Tuesday','Wednesday','Thrusday','Friday','Saturday']\r\n         return render_template(\"academics/timetable.html\",day=a,time=b)\r\n     @app.route(\"/Tt_set\")\r\n     def ttset():\r\n-        st=\"maintemp/admin_main.html\"\r\n+        st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(st,temp=\"/set_ttt\")\r\n     @app.route(\"/set_ttt\")\r\n     def add_tttser():\r\n         b=['','08:00-09:00','09:00-10:00','10:00-11:00','11:00-12:00','12:00-13:00','13:00-14:00','14:00-15:00']\r\n@@ -364,16 +364,16 @@\n     \r\n class rms:\r\n     @app.route(\"/AResult\")\r\n     def rsm():\r\n-        st=\"maintemp/admin_main.html\"\r\n+        st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(st,temp=\"/rsm\")\r\n     @app.route(\"/rsm\")\r\n     def show_rsm(a=''):\r\n         b=''\r\n         if(a!=''):\r\n             b=True\r\n-        st=\"maintemp/\"+session['userrole']+\"main.html\"\r\n+        st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(\"result/rm.html\",ab=a,b=b)\r\n     @app.route(\"/rms\",methods=['POST'])\r\n     def show_rms():\r\n         regno=request.form['Registration_Number']\r\n@@ -426,16 +426,16 @@\n         return rms.show_rsm(k)\r\n class vrms:\r\n     @app.route(\"/VResult\")\r\n     def vrsm():\r\n-        st=\"maintemp/admin_main.html\"\r\n+        st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(st,temp=\"/vrsm\")\r\n     @app.route(\"/vrsm\")\r\n     def vshow_rsm(a=''):\r\n         b=''\r\n         if(a!=''):\r\n             b=True\r\n-        st=\"maintemp/\"+session['userrole']+\"main.html\"\r\n+        st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(\"result/vrm.html\",ab=a,b=b)\r\n     @app.route(\"/vrms\",methods=['POST'])\r\n     def vshow_rms():\r\n         regno=request.form['Registration_Number']\r\n@@ -486,9 +486,9 @@\n         return render_template(\"result/vrmrs.html\",a=sem,r=regno,lenb=gg,b=b,c=c)\r\n class Student:\r\n     @app.route(\"/add_student\")  \r\n     def addStudent():\r\n-        st=\"maintemp/admin_main.html\"\r\n+        st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(st,temp=\"/stu\")\r\n \r\n     @app.route(\"/stu\")\r\n     def add_stu():\r\n@@ -502,9 +502,9 @@\n     \r\n class Placement:\r\n     @app.route(\"/add_placement\")  \r\n     def addPlacement():\r\n-        st=\"maintemp/admin_main.html\"\r\n+        st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(st,temp=\"/pla\")\r\n \r\n     @app.route(\"/pla\")\r\n     def add_pla():\r\n@@ -512,9 +512,9 @@\n \r\n class Faculty:\r\n     @app.route(\"/add_faculty\")  \r\n     def addFaculty():\r\n-        st=\"maintemp/admin_main.html\"\r\n+        st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(st,temp=\"/fac\")\r\n \r\n     @app.route(\"/fac\")\r\n     def add_fac():\r\n@@ -522,9 +522,9 @@\n         \r\n class viewwuser:\r\n     @app.route(\"/view_users\")  \r\n     def vu():\r\n-        st=\"maintemp/admin_main.html\"\r\n+        st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(st,temp=\"/vuu\")\r\n \r\n     @app.route(\"/vuu\")\r\n     def show_vu():\r\n@@ -535,9 +535,9 @@\n         return render_template('adduser/viewuser.html',cblen=len(cb),cbb=cb)\r\n class Warden:\r\n     @app.route(\"/add_warden\")  \r\n     def addWarden():\r\n-        st=\"maintemp/admin_main.html\"\r\n+        st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(st,temp=\"/war\")\r\n         \r\n     @app.route(\"/war\")\r\n     def add_war():\r\n@@ -545,27 +545,27 @@\n \r\n class Accounts:\r\n     @app.route(\"/add_accounts\")  \r\n     def addAccounts():\r\n-        st=\"maintemp/admin_main.html\"\r\n+        st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(st,temp=\"/acc\")\r\n         \r\n     @app.route(\"/acc\")\r\n     def add_acc():\r\n         return render_template('adduser/addacc_form.html')\r\n class Transport:\r\n     @app.route(\"/add_transport\")    \r\n     def addTransport():\r\n-        st=\"maintemp/admin_main.html\"\r\n+        st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(st,temp=\"/tra\")\r\n         \r\n     @app.route(\"/tra\")\r\n     def add_tra():\r\n         return render_template('adduser/addtra_form.html')\r\n class Library:\r\n     @app.route(\"/addbook\")  \r\n     def addLibrary():\r\n-        st=\"maintemp/admin_main.html\"\r\n+        st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(st,temp=\"/abook\")\r\n     @app.route(\"/abook\")\r\n     def addbook():\r\n         sql1=\"select publication from book_publication;\"\r\n@@ -595,9 +595,9 @@\n         conn.commit()\r\n         return(\"Book Added Successfully and Book Number is \"+str(code))\r\n     @app.route(\"/viewbook\")  \r\n     def viewLibrary():\r\n-        st=\"maintemp/admin_main.html\"\r\n+        st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(st,temp=\"/vbook\")\r\n     @app.route(\"/vbook\")\r\n     def viewbook():\r\n         sql1=\"select publication from book_publication;\"\r\n@@ -648,9 +648,9 @@\n         print(data)\r\n         return render_template(\"library/showbook.html\",t=len(data),c=data)\r\n     @app.route(\"/addauthor\")  \r\n     def addauthor():\r\n-        st=\"maintemp/admin_main.html\"\r\n+        st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(st,temp=\"/aauthor\")\r\n     @app.route(\"/aauthor\")\r\n     def aauthor():\r\n         sql1=\"select author from book_author;\"\r\n@@ -668,9 +668,9 @@\n         conn.commit()\r\n         return Library.aauthor()\r\n     @app.route(\"/addpublisher\")  \r\n     def addpublisher():\r\n-        st=\"maintemp/admin_main.html\"\r\n+        st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(st,temp=\"/apublisher\")\r\n     @app.route(\"/apublisher\")\r\n     def apublisher():\r\n         sql1=\"select publication from book_publication;\"\r\n@@ -688,16 +688,16 @@\n         conn.commit()\r\n         return Library.apublisher()\r\n     @app.route(\"/stockviewbook\")  \r\n     def stockviewLibrary():\r\n-        st=\"maintemp/admin_main.html\"\r\n+        st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(st,temp=\"/stockvbook\")\r\n     @app.route(\"/stockvbook\")\r\n     def stockviewbook():\r\n         return render_template('library/viewstock.html')\r\n     @app.route(\"/stockaddbook\")  \r\n     def stockaddLibrary():\r\n-        st=\"maintemp/admin_main.html\"\r\n+        st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(st,temp=\"/stockabook\")\r\n     @app.route(\"/stockabook\")\r\n     def stockaddbook():\r\n         return render_template('library/addstock.html')\r\n@@ -1049,16 +1049,54 @@\n         sql=\"select id,date,name,details,category,file from notice order by id desc;\"\r\n         cur.execute(sql)\r\n         data=cur.fetchall()\r\n         print(data)\r\n-        st=\"maintemp/\"+session['userrole']+\"main.html\"\r\n+        st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(\"notice/viewnotice.html\",t=len(data),c=data)\r\n \r\n+@app.route(\"/view_mess\")\r\n+def view_mess():\r\n+    st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n+    return render_template(st,temp=\"/viewmess\")\r\n+@app.route(\"/viewmess\")\r\n+def viewmess():\r\n+    sql=\"select * from mess;\"\r\n+    cur.execute(sql)\r\n+    data=cur.fetchall()\r\n+    print(data)\r\n+    b=data[0][1].split(',')\r\n+    l=data[0][2].split(',')\r\n+    d=data[0][3].split(',')\r\n+    a=0\r\n+    if(len(b)>len(l) and len(b)>len(d)):\r\n+        a=len(b)\r\n+    elif(len(l)>len(d) and len(l)>len(b)):\r\n+        a=len(l)\r\n+    elif(len(d)>len(l) and len(d)>len(b)):\r\n+        a=len(d)\r\n+    elif(len(l)==len(d) and len(l)==len(b)):\r\n+        a=len(l)\r\n+    return render_template(\"notice/showmess.html\",t=a,b=b,l=l,d=d)\r\n+\r\n+@app.route(\"/viewatt\")\r\n+def viewatt():\r\n+    st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n+    return render_template(st,temp=\"/view_att\")\r\n+@app.route(\"/view_att\")\r\n+def view_att():\r\n+    sql=\"select * from ap where ap=%s;\"\r\n+    val=(session['userid'],)\r\n+    cur.execute(sql,val)\r\n+    data=cur.fetchall()\r\n+    print(data)\r\n+    a=0\r\n+    return render_template(\"notice/showviewatt.html\",t=len(data),c=data)\r\n+\r\n class addcourse:\r\n \r\n     @app.route(\"/courseadd\")\r\n     def course():\r\n-        dst=\"maintemp/admin_main.html\"\r\n+        dst=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(dst,temp=\"/coursevie\")\r\n         \r\n     @app.route(\"/coursevie\")\r\n     def coursevie():\r\n@@ -1079,9 +1117,9 @@\n         sql=\"select id from coursereg where course_name=%s and year=%s and sem=%s and branch=%s and fess=%s;\"\r\n         val=(coursename,year,sem,branchname,yff)\r\n         cur.execute(sql,val)\r\n         ages=(cur.fetchall()[-1][0])\r\n-        dst=\"maintemp/admin_main.html\"\r\n+        dst=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template('course/coursesem.html',crid=ages,semm=int(sem))\r\n     @app.route(\"/addnosem\",methods=['POST'])\r\n     def addcoursenosem():\r\n         g=[]\r\n"
                },
                {
                    "date": 1622910216244,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,9 +4,9 @@\n from flask import *\r\n from flask.app import setupmethod\r\n import mysql.connector\r\n import datetime\r\n-import os12\r\n+import os\r\n conn=mysql.connector.connect(host=\"localhost\",user=\"root\",password=\"Root\",database=\"cms\",auth_plugin=\"mysql_native_password\")\r\n cur=conn.cursor(buffered=True)\r\n app = Flask(__name__)\r\n app.secret_key=\"abc\"\r\n"
                },
                {
                    "date": 1622911077390,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -345,9 +345,14 @@\n class tt:\r\n     @app.route(\"/Generate_tt\")\r\n     def tt():\r\n         st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n+        return render_template(st,temp=\"/tt_s1\")\r\n+    @app.route(\"/tt_s1\")\r\n+    def tt_s1():\r\n+        st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(st,temp=\"/Generate_ttt\")\r\n+    \r\n     @app.route(\"/Generate_ttt\")\r\n     def add_ttt():\r\n         b=['','08:00-09:00','09:00-10:00','10:00-11:00','11:00-12:00','12:00-13:00','13:00-14:00','14:00-15:00']\r\n         a=['Monday','Tuesday','Wednesday','Thrusday','Friday','Saturday']\r\n"
                },
                {
                    "date": 1622911116108,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -349,9 +349,9 @@\n         return render_template(st,temp=\"/tt_s1\")\r\n     @app.route(\"/tt_s1\")\r\n     def tt_s1():\r\n         st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n-        return render_template(st,temp=\"/Generate_ttt\")\r\n+        return render_template(\"timesem.html\")\r\n     \r\n     @app.route(\"/Generate_ttt\")\r\n     def add_ttt():\r\n         b=['','08:00-09:00','09:00-10:00','10:00-11:00','11:00-12:00','12:00-13:00','13:00-14:00','14:00-15:00']\r\n"
                },
                {
                    "date": 1622911159787,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -349,9 +349,9 @@\n         return render_template(st,temp=\"/tt_s1\")\r\n     @app.route(\"/tt_s1\")\r\n     def tt_s1():\r\n         st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n-        return render_template(\"timesem.html\")\r\n+        return render_template(\"academics/timesem.html\")\r\n     \r\n     @app.route(\"/Generate_ttt\")\r\n     def add_ttt():\r\n         b=['','08:00-09:00','09:00-10:00','10:00-11:00','11:00-12:00','12:00-13:00','13:00-14:00','14:00-15:00']\r\n"
                },
                {
                    "date": 1622911213075,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -350,9 +350,12 @@\n     @app.route(\"/tt_s1\")\r\n     def tt_s1():\r\n         st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(\"academics/timesem.html\")\r\n-    \r\n+    @app.route(\"/tt_s2\")\r\n+    def tt_s2():\r\n+        st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n+        return render_template(\"academics/timecourse.html\")\r\n     @app.route(\"/Generate_ttt\")\r\n     def add_ttt():\r\n         b=['','08:00-09:00','09:00-10:00','10:00-11:00','11:00-12:00','12:00-13:00','13:00-14:00','14:00-15:00']\r\n         a=['Monday','Tuesday','Wednesday','Thrusday','Friday','Saturday']\r\n"
                },
                {
                    "date": 1622911228007,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -345,17 +345,18 @@\n class tt:\r\n     @app.route(\"/Generate_tt\")\r\n     def tt():\r\n         st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n-        return render_template(st,temp=\"/tt_s1\")\r\n+        return render_template(st,temp=\"/tt_s2\")\r\n     @app.route(\"/tt_s1\")\r\n     def tt_s1():\r\n         st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(\"academics/timesem.html\")\r\n     @app.route(\"/tt_s2\")\r\n     def tt_s2():\r\n         st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(\"academics/timecourse.html\")\r\n+\r\n     @app.route(\"/Generate_ttt\")\r\n     def add_ttt():\r\n         b=['','08:00-09:00','09:00-10:00','10:00-11:00','11:00-12:00','12:00-13:00','13:00-14:00','14:00-15:00']\r\n         a=['Monday','Tuesday','Wednesday','Thrusday','Friday','Saturday']\r\n"
                },
                {
                    "date": 1622911258194,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -349,13 +349,13 @@\n         return render_template(st,temp=\"/tt_s2\")\r\n     @app.route(\"/tt_s1\")\r\n     def tt_s1():\r\n         st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n-        return render_template(\"academics/timesem.html\")\r\n+        return render_template(\"academics/timecourse.html\")\r\n     @app.route(\"/tt_s2\")\r\n     def tt_s2():\r\n         st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n-        return render_template(\"academics/timecourse.html\")\r\n+        return render_template(\"academics/timesem.html\")\r\n \r\n     @app.route(\"/Generate_ttt\")\r\n     def add_ttt():\r\n         b=['','08:00-09:00','09:00-10:00','10:00-11:00','11:00-12:00','12:00-13:00','13:00-14:00','14:00-15:00']\r\n"
                },
                {
                    "date": 1622911317724,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -354,9 +354,13 @@\n     @app.route(\"/tt_s2\")\r\n     def tt_s2():\r\n         st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(\"academics/timesem.html\")\r\n-\r\n+    @app.route(\"/tt_s3\")\r\n+    def tt_s3():\r\n+        st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n+        return render_template(\"academics/timetableset.html\")\r\n+    \r\n     @app.route(\"/Generate_ttt\")\r\n     def add_ttt():\r\n         b=['','08:00-09:00','09:00-10:00','10:00-11:00','11:00-12:00','12:00-13:00','13:00-14:00','14:00-15:00']\r\n         a=['Monday','Tuesday','Wednesday','Thrusday','Friday','Saturday']\r\n"
                },
                {
                    "date": 1622911324734,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -345,9 +345,9 @@\n class tt:\r\n     @app.route(\"/Generate_tt\")\r\n     def tt():\r\n         st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n-        return render_template(st,temp=\"/tt_s2\")\r\n+        return render_template(st,temp=\"/tt_s3\")\r\n     @app.route(\"/tt_s1\")\r\n     def tt_s1():\r\n         st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(\"academics/timecourse.html\")\r\n"
                },
                {
                    "date": 1622911345130,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -357,9 +357,9 @@\n         return render_template(\"academics/timesem.html\")\r\n     @app.route(\"/tt_s3\")\r\n     def tt_s3():\r\n         st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n-        return render_template(\"academics/timetableset.html\")\r\n+        return render_template(\"academics/timeyear.html\")\r\n     \r\n     @app.route(\"/Generate_ttt\")\r\n     def add_ttt():\r\n         b=['','08:00-09:00','09:00-10:00','10:00-11:00','11:00-12:00','12:00-13:00','13:00-14:00','14:00-15:00']\r\n"
                },
                {
                    "date": 1622911360233,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -354,13 +354,9 @@\n     @app.route(\"/tt_s2\")\r\n     def tt_s2():\r\n         st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(\"academics/timesem.html\")\r\n-    @app.route(\"/tt_s3\")\r\n-    def tt_s3():\r\n-        st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n-        return render_template(\"academics/timeyear.html\")\r\n-    \r\n+        \r\n     @app.route(\"/Generate_ttt\")\r\n     def add_ttt():\r\n         b=['','08:00-09:00','09:00-10:00','10:00-11:00','11:00-12:00','12:00-13:00','13:00-14:00','14:00-15:00']\r\n         a=['Monday','Tuesday','Wednesday','Thrusday','Friday','Saturday']\r\n"
                },
                {
                    "date": 1622911442759,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -349,14 +349,15 @@\n         return render_template(st,temp=\"/tt_s3\")\r\n     @app.route(\"/tt_s1\")\r\n     def tt_s1():\r\n         st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n+        sqql=\"select distinct * from coursereg;\"\r\n         return render_template(\"academics/timecourse.html\")\r\n     @app.route(\"/tt_s2\")\r\n     def tt_s2():\r\n         st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(\"academics/timesem.html\")\r\n-        \r\n+\r\n     @app.route(\"/Generate_ttt\")\r\n     def add_ttt():\r\n         b=['','08:00-09:00','09:00-10:00','10:00-11:00','11:00-12:00','12:00-13:00','13:00-14:00','14:00-15:00']\r\n         a=['Monday','Tuesday','Wednesday','Thrusday','Friday','Saturday']\r\n"
                },
                {
                    "date": 1622911591728,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -349,9 +349,11 @@\n         return render_template(st,temp=\"/tt_s3\")\r\n     @app.route(\"/tt_s1\")\r\n     def tt_s1():\r\n         st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n-        sqql=\"select distinct * from coursereg;\"\r\n+        sql=\"select distinct * from coursereg;\"\r\n+        cur.execute()\r\n+        value=cur.execute()\r\n         return render_template(\"academics/timecourse.html\")\r\n     @app.route(\"/tt_s2\")\r\n     def tt_s2():\r\n         st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n"
                },
                {
                    "date": 1622911602640,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -351,9 +351,9 @@\n     def tt_s1():\r\n         st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         sql=\"select distinct * from coursereg;\"\r\n         cur.execute()\r\n-        value=cur.execute()\r\n+        value=cur.fetchall()\r\n         return render_template(\"academics/timecourse.html\")\r\n     @app.route(\"/tt_s2\")\r\n     def tt_s2():\r\n         st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n"
                },
                {
                    "date": 1622911634456,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -352,9 +352,9 @@\n         st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         sql=\"select distinct * from coursereg;\"\r\n         cur.execute()\r\n         value=cur.fetchall()\r\n-        return render_template(\"academics/timecourse.html\")\r\n+        return render_template(\"academics/timecourse.html\",lena=len(value),value=value)\r\n     @app.route(\"/tt_s2\")\r\n     def tt_s2():\r\n         st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(\"academics/timesem.html\")\r\n"
                },
                {
                    "date": 1622911775969,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -345,9 +345,9 @@\n class tt:\r\n     @app.route(\"/Generate_tt\")\r\n     def tt():\r\n         st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n-        return render_template(st,temp=\"/tt_s3\")\r\n+        return render_template(st,temp=\"/tt_s1\")\r\n     @app.route(\"/tt_s1\")\r\n     def tt_s1():\r\n         st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         sql=\"select distinct * from coursereg;\"\r\n"
                },
                {
                    "date": 1622911797278,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -350,9 +350,9 @@\n     @app.route(\"/tt_s1\")\r\n     def tt_s1():\r\n         st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         sql=\"select distinct * from coursereg;\"\r\n-        cur.execute()\r\n+        cur.execute(sql)\r\n         value=cur.fetchall()\r\n         return render_template(\"academics/timecourse.html\",lena=len(value),value=value)\r\n     @app.route(\"/tt_s2\")\r\n     def tt_s2():\r\n"
                },
                {
                    "date": 1622912076715,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -355,8 +355,10 @@\n         value=cur.fetchall()\r\n         return render_template(\"academics/timecourse.html\",lena=len(value),value=value)\r\n     @app.route(\"/tt_s2\")\r\n     def tt_s2():\r\n+        sem=request.form['bg']\r\n+        print(sem)\r\n         st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(\"academics/timesem.html\")\r\n \r\n     @app.route(\"/Generate_ttt\")\r\n"
                },
                {
                    "date": 1622912107085,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -353,9 +353,9 @@\n         sql=\"select distinct * from coursereg;\"\r\n         cur.execute(sql)\r\n         value=cur.fetchall()\r\n         return render_template(\"academics/timecourse.html\",lena=len(value),value=value)\r\n-    @app.route(\"/tt_s2\")\r\n+    @app.route(\"/tt_s2\",method=['POST'])\r\n     def tt_s2():\r\n         sem=request.form['bg']\r\n         print(sem)\r\n         st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n"
                },
                {
                    "date": 1622912124333,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -353,9 +353,9 @@\n         sql=\"select distinct * from coursereg;\"\r\n         cur.execute(sql)\r\n         value=cur.fetchall()\r\n         return render_template(\"academics/timecourse.html\",lena=len(value),value=value)\r\n-    @app.route(\"/tt_s2\",method=['POST'])\r\n+    @app.route(\"/tt_s2\",methods=['POST'])\r\n     def tt_s2():\r\n         sem=request.form['bg']\r\n         print(sem)\r\n         st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n"
                },
                {
                    "date": 1622912160592,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -356,9 +356,9 @@\n         return render_template(\"academics/timecourse.html\",lena=len(value),value=value)\r\n     @app.route(\"/tt_s2\",methods=['POST'])\r\n     def tt_s2():\r\n         sem=request.form['bg']\r\n-        print(sem)\r\n+        print(sem.split('+'))\r\n         st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(\"academics/timesem.html\")\r\n \r\n     @app.route(\"/Generate_ttt\")\r\n"
                },
                {
                    "date": 1622912256618,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -356,10 +356,12 @@\n         return render_template(\"academics/timecourse.html\",lena=len(value),value=value)\r\n     @app.route(\"/tt_s2\",methods=['POST'])\r\n     def tt_s2():\r\n         sem=request.form['bg']\r\n-        print(sem.split('+'))\r\n-        st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n+        aa=(sem.split('+'))\r\n+        sql=\"select sem from coursereg where course_name=%s and branch=%s;\"\r\n+        cur.execute(sql)\r\n+        value=cur.fetchall()\r\n         return render_template(\"academics/timesem.html\")\r\n \r\n     @app.route(\"/Generate_ttt\")\r\n     def add_ttt():\r\n"
                },
                {
                    "date": 1622912276991,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -358,8 +358,9 @@\n     def tt_s2():\r\n         sem=request.form['bg']\r\n         aa=(sem.split('+'))\r\n         sql=\"select sem from coursereg where course_name=%s and branch=%s;\"\r\n+        val=(aa[0][-1])\r\n         cur.execute(sql)\r\n         value=cur.fetchall()\r\n         return render_template(\"academics/timesem.html\")\r\n \r\n"
                },
                {
                    "date": 1622912296564,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -361,9 +361,9 @@\n         sql=\"select sem from coursereg where course_name=%s and branch=%s;\"\r\n         val=(aa[0][-1])\r\n         cur.execute(sql)\r\n         value=cur.fetchall()\r\n-        return render_template(\"academics/timesem.html\")\r\n+        return render_template(\"academics/timesem.html\",lena=len(value),value=value)\r\n \r\n     @app.route(\"/Generate_ttt\")\r\n     def add_ttt():\r\n         b=['','08:00-09:00','09:00-10:00','10:00-11:00','11:00-12:00','12:00-13:00','13:00-14:00','14:00-15:00']\r\n"
                },
                {
                    "date": 1622912539780,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -358,9 +358,9 @@\n     def tt_s2():\r\n         sem=request.form['bg']\r\n         aa=(sem.split('+'))\r\n         sql=\"select sem from coursereg where course_name=%s and branch=%s;\"\r\n-        val=(aa[0][-1])\r\n+        val=(aa[0][0],aa[-1][-1])\r\n         cur.execute(sql)\r\n         value=cur.fetchall()\r\n         return render_template(\"academics/timesem.html\",lena=len(value),value=value)\r\n \r\n"
                },
                {
                    "date": 1622912547154,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -358,9 +358,9 @@\n     def tt_s2():\r\n         sem=request.form['bg']\r\n         aa=(sem.split('+'))\r\n         sql=\"select sem from coursereg where course_name=%s and branch=%s;\"\r\n-        val=(aa[0][0],aa[-1][-1])\r\n+        val=(aa[0],aa[-1])\r\n         cur.execute(sql)\r\n         value=cur.fetchall()\r\n         return render_template(\"academics/timesem.html\",lena=len(value),value=value)\r\n \r\n"
                },
                {
                    "date": 1622912565303,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -359,9 +359,9 @@\n         sem=request.form['bg']\r\n         aa=(sem.split('+'))\r\n         sql=\"select sem from coursereg where course_name=%s and branch=%s;\"\r\n         val=(aa[0],aa[-1])\r\n-        cur.execute(sql)\r\n+        cur.execute(sql,val)\r\n         value=cur.fetchall()\r\n         return render_template(\"academics/timesem.html\",lena=len(value),value=value)\r\n \r\n     @app.route(\"/Generate_ttt\")\r\n"
                },
                {
                    "date": 1622912625561,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -360,10 +360,10 @@\n         aa=(sem.split('+'))\r\n         sql=\"select sem from coursereg where course_name=%s and branch=%s;\"\r\n         val=(aa[0],aa[-1])\r\n         cur.execute(sql,val)\r\n-        value=cur.fetchall()\r\n-        return render_template(\"academics/timesem.html\",lena=len(value),value=value)\r\n+        valuer=cur.fetchall()\r\n+        return render_template(\"academics/timesem.html\",lena=len(value),value=valuer[0][0])\r\n \r\n     @app.route(\"/Generate_ttt\")\r\n     def add_ttt():\r\n         b=['','08:00-09:00','09:00-10:00','10:00-11:00','11:00-12:00','12:00-13:00','13:00-14:00','14:00-15:00']\r\n"
                },
                {
                    "date": 1622912632560,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -361,9 +361,9 @@\n         sql=\"select sem from coursereg where course_name=%s and branch=%s;\"\r\n         val=(aa[0],aa[-1])\r\n         cur.execute(sql,val)\r\n         valuer=cur.fetchall()\r\n-        return render_template(\"academics/timesem.html\",lena=len(value),value=valuer[0][0])\r\n+        return render_template(\"academics/timesem.html\",lena=len(value),value=int(valuer[0][0]))\r\n \r\n     @app.route(\"/Generate_ttt\")\r\n     def add_ttt():\r\n         b=['','08:00-09:00','09:00-10:00','10:00-11:00','11:00-12:00','12:00-13:00','13:00-14:00','14:00-15:00']\r\n"
                },
                {
                    "date": 1622912649884,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -361,9 +361,9 @@\n         sql=\"select sem from coursereg where course_name=%s and branch=%s;\"\r\n         val=(aa[0],aa[-1])\r\n         cur.execute(sql,val)\r\n         valuer=cur.fetchall()\r\n-        return render_template(\"academics/timesem.html\",lena=len(value),value=int(valuer[0][0]))\r\n+        return render_template(\"academics/timesem.html\",lena=len(valuer),value=int(valuer[0][0]))\r\n \r\n     @app.route(\"/Generate_ttt\")\r\n     def add_ttt():\r\n         b=['','08:00-09:00','09:00-10:00','10:00-11:00','11:00-12:00','12:00-13:00','13:00-14:00','14:00-15:00']\r\n"
                },
                {
                    "date": 1622912670828,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -361,8 +361,9 @@\n         sql=\"select sem from coursereg where course_name=%s and branch=%s;\"\r\n         val=(aa[0],aa[-1])\r\n         cur.execute(sql,val)\r\n         valuer=cur.fetchall()\r\n+        print(valuer)\r\n         return render_template(\"academics/timesem.html\",lena=len(valuer),value=int(valuer[0][0]))\r\n \r\n     @app.route(\"/Generate_ttt\")\r\n     def add_ttt():\r\n"
                },
                {
                    "date": 1622912699660,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -362,10 +362,9 @@\n         val=(aa[0],aa[-1])\r\n         cur.execute(sql,val)\r\n         valuer=cur.fetchall()\r\n         print(valuer)\r\n-        return render_template(\"academics/timesem.html\",lena=len(valuer),value=int(valuer[0][0]))\r\n-\r\n+        return \"hello\"\r\n     @app.route(\"/Generate_ttt\")\r\n     def add_ttt():\r\n         b=['','08:00-09:00','09:00-10:00','10:00-11:00','11:00-12:00','12:00-13:00','13:00-14:00','14:00-15:00']\r\n         a=['Monday','Tuesday','Wednesday','Thrusday','Friday','Saturday']\r\n"
                },
                {
                    "date": 1622912713484,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -361,9 +361,9 @@\n         sql=\"select sem from coursereg where course_name=%s and branch=%s;\"\r\n         val=(aa[0],aa[-1])\r\n         cur.execute(sql,val)\r\n         valuer=cur.fetchall()\r\n-        print(valuer)\r\n+        print(valuer[0][0])\r\n         return \"hello\"\r\n     @app.route(\"/Generate_ttt\")\r\n     def add_ttt():\r\n         b=['','08:00-09:00','09:00-10:00','10:00-11:00','11:00-12:00','12:00-13:00','13:00-14:00','14:00-15:00']\r\n"
                },
                {
                    "date": 1622912738902,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -361,10 +361,11 @@\n         sql=\"select sem from coursereg where course_name=%s and branch=%s;\"\r\n         val=(aa[0],aa[-1])\r\n         cur.execute(sql,val)\r\n         valuer=cur.fetchall()\r\n-        print(valuer[0][0])\r\n-        return \"hello\"\r\n+        print(valuer)\r\n+        return render_template(\"academics/timesem.html\",value=int(valuer[0][0]))\r\n+\r\n     @app.route(\"/Generate_ttt\")\r\n     def add_ttt():\r\n         b=['','08:00-09:00','09:00-10:00','10:00-11:00','11:00-12:00','12:00-13:00','13:00-14:00','14:00-15:00']\r\n         a=['Monday','Tuesday','Wednesday','Thrusday','Friday','Saturday']\r\n"
                },
                {
                    "date": 1622912968696,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -362,9 +362,9 @@\n         val=(aa[0],aa[-1])\r\n         cur.execute(sql,val)\r\n         valuer=cur.fetchall()\r\n         print(valuer)\r\n-        return render_template(\"academics/timesem.html\",value=int(valuer[0][0]))\r\n+        return render_template(\"academics/timesem.html\",value=int(valuer[0][0]),course=aa[0],branch=aa[-1])\r\n \r\n     @app.route(\"/Generate_ttt\")\r\n     def add_ttt():\r\n         b=['','08:00-09:00','09:00-10:00','10:00-11:00','11:00-12:00','12:00-13:00','13:00-14:00','14:00-15:00']\r\n"
                },
                {
                    "date": 1622912976641,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -363,9 +363,9 @@\n         cur.execute(sql,val)\r\n         valuer=cur.fetchall()\r\n         print(valuer)\r\n         return render_template(\"academics/timesem.html\",value=int(valuer[0][0]),course=aa[0],branch=aa[-1])\r\n-\r\n+        \r\n     @app.route(\"/Generate_ttt\")\r\n     def add_ttt():\r\n         b=['','08:00-09:00','09:00-10:00','10:00-11:00','11:00-12:00','12:00-13:00','13:00-14:00','14:00-15:00']\r\n         a=['Monday','Tuesday','Wednesday','Thrusday','Friday','Saturday']\r\n"
                },
                {
                    "date": 1622913032884,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -363,11 +363,15 @@\n         cur.execute(sql,val)\r\n         valuer=cur.fetchall()\r\n         print(valuer)\r\n         return render_template(\"academics/timesem.html\",value=int(valuer[0][0]),course=aa[0],branch=aa[-1])\r\n-        \r\n+\r\n     @app.route(\"/Generate_ttt\")\r\n     def add_ttt():\r\n+        sem=request.form['bg']\r\n+        course=request.form['course']\r\n+        branch=request.form['branch']\r\n+        \r\n         b=['','08:00-09:00','09:00-10:00','10:00-11:00','11:00-12:00','12:00-13:00','13:00-14:00','14:00-15:00']\r\n         a=['Monday','Tuesday','Wednesday','Thrusday','Friday','Saturday']\r\n         return render_template(\"academics/timetable.html\",day=a,time=b)\r\n     @app.route(\"/Tt_set\")\r\n"
                },
                {
                    "date": 1622913078678,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -369,9 +369,12 @@\n     def add_ttt():\r\n         sem=request.form['bg']\r\n         course=request.form['course']\r\n         branch=request.form['branch']\r\n-        \r\n+        ac=[]\r\n+        ac.append(sem)\r\n+        ac.append(course)\r\n+        ac.append(branch)\r\n         b=['','08:00-09:00','09:00-10:00','10:00-11:00','11:00-12:00','12:00-13:00','13:00-14:00','14:00-15:00']\r\n         a=['Monday','Tuesday','Wednesday','Thrusday','Friday','Saturday']\r\n         return render_template(\"academics/timetable.html\",day=a,time=b)\r\n     @app.route(\"/Tt_set\")\r\n"
                },
                {
                    "date": 1622913090159,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -375,9 +375,9 @@\n         ac.append(course)\r\n         ac.append(branch)\r\n         b=['','08:00-09:00','09:00-10:00','10:00-11:00','11:00-12:00','12:00-13:00','13:00-14:00','14:00-15:00']\r\n         a=['Monday','Tuesday','Wednesday','Thrusday','Friday','Saturday']\r\n-        return render_template(\"academics/timetable.html\",day=a,time=b)\r\n+        return render_template(\"academics/timetable.html\",day=a,time=b,ac=ac)\r\n     @app.route(\"/Tt_set\")\r\n     def ttset():\r\n         st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(st,temp=\"/set_ttt\")\r\n"
                },
                {
                    "date": 1622913261896,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -364,9 +364,9 @@\n         valuer=cur.fetchall()\r\n         print(valuer)\r\n         return render_template(\"academics/timesem.html\",value=int(valuer[0][0]),course=aa[0],branch=aa[-1])\r\n \r\n-    @app.route(\"/Generate_ttt\")\r\n+    @app.route(\"/Generate_tttt\")\r\n     def add_ttt():\r\n         sem=request.form['bg']\r\n         course=request.form['course']\r\n         branch=request.form['branch']\r\n"
                },
                {
                    "date": 1622913359656,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -364,9 +364,9 @@\n         valuer=cur.fetchall()\r\n         print(valuer)\r\n         return render_template(\"academics/timesem.html\",value=int(valuer[0][0]),course=aa[0],branch=aa[-1])\r\n \r\n-    @app.route(\"/Generate_tttt\")\r\n+    @app.route(\"/Generate_tttt\",methods=['POST'])\r\n     def add_ttt():\r\n         sem=request.form['bg']\r\n         course=request.form['course']\r\n         branch=request.form['branch']\r\n"
                },
                {
                    "date": 1622923687207,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -87,10 +87,10 @@\n class adminacc:\r\n     @app.route(\"/Accounts\")\r\n     def acc():\r\n         st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n-        return render_template(st,temp=\"/acc\")\r\n-    @app.route(\"/acc\")\r\n+        return render_template(st,temp=\"/acco\")\r\n+    @app.route(\"/acco\")\r\n     def show_Acc():\r\n         st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(\"accounts/fee.html\")\r\n     @app.route(\"/fee_det\",methods=['POST'])\r\n"
                },
                {
                    "date": 1622927505292,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -81,9 +81,9 @@\n         lunch=request.form['lunch']\r\n         print(lunch.split(','))\r\n         dinner=request.form['dinner']\r\n         print(dinner.split(','))\r\n-        \r\n+        sql=\"insert into mess(breakfast,lunch,dinner)\"        \r\n         return hostel.addmessicon()\r\n class adminacc:\r\n     @app.route(\"/Accounts\")\r\n     def acc():\r\n"
                },
                {
                    "date": 1622927577117,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -81,9 +81,12 @@\n         lunch=request.form['lunch']\r\n         print(lunch.split(','))\r\n         dinner=request.form['dinner']\r\n         print(dinner.split(','))\r\n-        sql=\"insert into mess(breakfast,lunch,dinner)\"        \r\n+        sql=\"insert into mess(breakfast,lunch,dinner) values(%s,%s,%s);\"\r\n+        val=(breakfast,lunch,dinner)   \r\n+        cur.execute(sql,var)\r\n+        conn.commit     \r\n         return hostel.addmessicon()\r\n class adminacc:\r\n     @app.route(\"/Accounts\")\r\n     def acc():\r\n"
                },
                {
                    "date": 1622927633898,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -83,10 +83,10 @@\n         dinner=request.form['dinner']\r\n         print(dinner.split(','))\r\n         sql=\"insert into mess(breakfast,lunch,dinner) values(%s,%s,%s);\"\r\n         val=(breakfast,lunch,dinner)   \r\n-        cur.execute(sql,var)\r\n-        conn.commit     \r\n+        cur.execute(sql,val)\r\n+        conn.commit()     \r\n         return hostel.addmessicon()\r\n class adminacc:\r\n     @app.route(\"/Accounts\")\r\n     def acc():\r\n"
                },
                {
                    "date": 1622927686133,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -81,8 +81,11 @@\n         lunch=request.form['lunch']\r\n         print(lunch.split(','))\r\n         dinner=request.form['dinner']\r\n         print(dinner.split(','))\r\n+        sql=\"delete from ;\" \r\n+        cur.execute(sql)\r\n+        \r\n         sql=\"insert into mess(breakfast,lunch,dinner) values(%s,%s,%s);\"\r\n         val=(breakfast,lunch,dinner)   \r\n         cur.execute(sql,val)\r\n         conn.commit()     \r\n"
                },
                {
                    "date": 1622927699605,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -81,11 +81,10 @@\n         lunch=request.form['lunch']\r\n         print(lunch.split(','))\r\n         dinner=request.form['dinner']\r\n         print(dinner.split(','))\r\n-        sql=\"delete from ;\" \r\n+        sql=\"delete from mess;\" \r\n         cur.execute(sql)\r\n-        \r\n         sql=\"insert into mess(breakfast,lunch,dinner) values(%s,%s,%s);\"\r\n         val=(breakfast,lunch,dinner)   \r\n         cur.execute(sql,val)\r\n         conn.commit()     \r\n"
                },
                {
                    "date": 1622927932833,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -617,9 +617,13 @@\n         issue=0\r\n         sql1=\"select * from library;\"\r\n         cur.execute(sql1)\r\n         data=cur.fetchall()\r\n-        code=(data[-1][-1]+1)\r\n+        code=0\r\n+        if(len(data)==0):\r\n+            code=10001\r\n+        else:\r\n+            code=(data[-1][-1]+1)\r\n         sql=\"insert into library(bname,bauthor,bedition,bpublisher,book_stock,issue,code) values(%s,%s,%s,%s,%s,%s,%s);\"\r\n         val=(bname,bauthor,bedition,bpublisher,stock,issue,code)\r\n         cur.execute(sql,val)\r\n         conn.commit()\r\n"
                },
                {
                    "date": 1622928038643,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -619,9 +619,9 @@\n         cur.execute(sql1)\r\n         data=cur.fetchall()\r\n         code=0\r\n         if(len(data)==0):\r\n-            code=10001\r\n+            code=1001\r\n         else:\r\n             code=(data[-1][-1]+1)\r\n         sql=\"insert into library(bname,bauthor,bedition,bpublisher,book_stock,issue,code) values(%s,%s,%s,%s,%s,%s,%s);\"\r\n         val=(bname,bauthor,bedition,bpublisher,stock,issue,code)\r\n"
                },
                {
                    "date": 1622929208799,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -181,9 +181,8 @@\n         abc=request.form.getlist('eligiblestream')\r\n         ten=request.form['ten']\r\n         twl=request.form['twl']\r\n         diploma=request.form['diploma']\r\n-        gap=request.form['gap']\r\n         description=request.form['description']\r\n         stre=str(abc)\r\n         sql=\"insert into company(name,es,ten,tw,diploma,gap,descc,role) values(%s,%s,%s,%s,%s,%s,%s,%s);\"\r\n         val=(cmpname,stre,ten,twl,diploma,gap,description,role)\r\n"
                },
                {
                    "date": 1622929218761,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -183,10 +183,10 @@\n         twl=request.form['twl']\r\n         diploma=request.form['diploma']\r\n         description=request.form['description']\r\n         stre=str(abc)\r\n-        sql=\"insert into company(name,es,ten,tw,diploma,gap,descc,role) values(%s,%s,%s,%s,%s,%s,%s,%s);\"\r\n-        val=(cmpname,stre,ten,twl,diploma,gap,description,role)\r\n+        sql=\"insert into company(name,es,ten,tw,diploma,descc,role) values(%s,%s,%s,%s,%s,%s,%s);\"\r\n+        val=(cmpname,stre,ten,twl,diploma,description,role)\r\n         cur.execute(sql,val)\r\n         conn.commit()\r\n         return adminplacement.show_Addcompanymain()\r\n \r\n"
                },
                {
                    "date": 1622929453416,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -172,9 +172,9 @@\n         sql=\"select branch from coursereg;\"\r\n         cur.execute(sql)\r\n         es=cur.fetchall()\r\n         lenes=len(es)\r\n-        return render_template(\"placement/Addcompany.html\",es=lenes,dataes=es)\r\n+        return render_template(\"placement/addcompany.html\",es=lenes,dataes=es)\r\n     @app.route(\"/addnewcmp\",methods=['POST'])\r\n     def adcmp():\r\n         cmpname=request.form['cmpname']\r\n         role=request.form['role']\r\n"
                },
                {
                    "date": 1622929897504,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -570,9 +570,17 @@\n         \r\n     @app.route(\"/war\")\r\n     def add_war():\r\n         return render_template('adduser/addwar_form.html')\r\n-\r\n+class libaaaa:\r\n+    @app.route(\"/add_library\")  \r\n+    def addWarden():\r\n+        st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n+        return render_template(st,temp=\"/war\")\r\n+        \r\n+    @app.route(\"/war\")\r\n+    def add_war():\r\n+        return render_template('adduser/addwar_form.html')\r\n class Accounts:\r\n     @app.route(\"/add_accounts\")  \r\n     def addAccounts():\r\n         st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n"
                },
                {
                    "date": 1622929904129,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -574,9 +574,9 @@\n class libaaaa:\r\n     @app.route(\"/add_library\")  \r\n     def addWarden():\r\n         st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n-        return render_template(st,temp=\"/war\")\r\n+        return render_template(st,temp=\"/libb\")\r\n         \r\n     @app.route(\"/war\")\r\n     def add_war():\r\n         return render_template('adduser/addwar_form.html')\r\n"
                },
                {
                    "date": 1622929937356,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -576,11 +576,11 @@\n     def addWarden():\r\n         st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n         return render_template(st,temp=\"/libb\")\r\n         \r\n-    @app.route(\"/war\")\r\n+    @app.route(\"/libb\")\r\n     def add_war():\r\n-        return render_template('adduser/addwar_form.html')\r\n+        return render_template('adduser/addlib_form.html')\r\n class Accounts:\r\n     @app.route(\"/add_accounts\")  \r\n     def addAccounts():\r\n         st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n"
                }
            ],
            "date": 1622888838086,
            "name": "Commit-0",
            "content": "import codecs\r\nfrom random import random\r\nimport calendar\r\nfrom flask import *\r\nfrom flask.app import setupmethod\r\nimport mysql.connector\r\nimport datetime\r\nimport os\r\nconn=mysql.connector.connect(host=\"localhost\",user=\"root\",password=\"Root\",database=\"cms\",auth_plugin=\"mysql_native_password\")\r\ncur=conn.cursor(buffered=True)\r\napp = Flask(__name__)\r\napp.secret_key=\"abc\"\r\napp.config['UPLOAD_FOLDER'] = 'C:\\\\Users\\\\safezone\\\\Desktop\\\\finalprj\\\\templates\\\\notice\\\\files'\r\nDOWNLOAD_DIRECTORY = 'C:\\\\Users\\\\safezone\\\\Desktop\\\\finalprj\\\\templates\\\\notice\\\\cfiles'\r\n@app.route('/logout')\r\ndef logout():\r\n    session.pop('userid')\r\n    session.pop('user')\r\n    session.pop('userrole')\r\n    \r\n    return main.login()\r\n@app.route('/downloadnotice/<file>')\r\ndef down(file):\r\n    print(file)\r\n    return send_from_directory(DOWNLOAD_DIRECTORY, file, as_attachment=True)\r\nclass adminnotice:\r\n    @app.route(\"/tnotice\")\r\n    def notice():\r\n        st=\"maintemp/admin_main.html\"\r\n        return render_template(st,temp=\"/noticeicon\")\r\n    @app.route(\"/noticeicon\")\r\n    def show_noticemain():\r\n        st=\"maintemp/\"+session['userrole']+\"main.html\"\r\n        return render_template(\"notice/addnotice.html\")\r\n    @app.route(\"/addnewnote\",methods=['POST'])\r\n    def add_notice():\r\n        date=request.form['date']\r\n        title=request.form['title']\r\n        description=request.form['description']\r\n        eventtype=request.form['eventtype']\r\n        file=request.files['event_file']\r\n        file.save(os.path.join(app.config['UPLOAD_FOLDER'],file.filename))\r\n        event_file=file.filename\r\n        print(event_file)\r\n        timing=str(datetime.datetime.now())\r\n        sql=\"insert into notice(date,name,details,category,file,timestamp)values(%s,%s,%s,%s,%s,%s);\"\r\n        val=(date,title,description,eventtype,event_file,timing)\r\n        cur.execute(sql,val)\r\n        conn.commit()\r\n        return view_notice.show_notice()\r\nclass hostel:\r\n    @app.route(\"/addhroom\")\r\n    def addroom():\r\n        st=\"maintemp/admin_main.html\"\r\n        return render_template(st,temp=\"/addroomicon\")\r\n    @app.route(\"/addroomicon\")\r\n    def addroomicon():\r\n        st=\"maintemp/\"+session['userrole']+\"main.html\"\r\n        return render_template(\"facilities/addroom.html\")\r\n    @app.route(\"/addnewroom\",methods=['POST'])\r\n    def adnewroom():\r\n        addroom=request.form['addroom']\r\n        sql=\"insert into hroom(room_no,status) values(%s,'no');\"\r\n        val=(addroom,)\r\n        cur.execute(sql,val)\r\n        conn.commit()\r\n        return hostel.addroomicon()\r\n    \r\n    @app.route(\"/addhmess\")\r\n    def addmess():\r\n        st=\"maintemp/admin_main.html\"\r\n        return render_template(st,temp=\"/addmessicon\")\r\n    @app.route(\"/addmessicon\")\r\n    def addmessicon():\r\n        st=\"maintemp/\"+session['userrole']+\"main.html\"\r\n        return render_template(\"facilities/addmess.html\")\r\n    @app.route(\"/addmessroom\",methods=['POST'])\r\n    def admessroom():\r\n        breakfast=request.form['breakfast']\r\n        print(breakfast.split(','))\r\n        lunch=request.form['lunch']\r\n        print(lunch.split(','))\r\n        dinner=request.form['dinner']\r\n        print(dinner.split(','))\r\n        \r\n        return hostel.addmessicon()\r\nclass adminacc:\r\n    @app.route(\"/Accounts\")\r\n    def acc():\r\n        st=\"maintemp/admin_main.html\"\r\n        return render_template(st,temp=\"/acc\")\r\n    @app.route(\"/acc\")\r\n    def show_Acc():\r\n        st=\"maintemp/\"+session['userrole']+\"main.html\"\r\n        return render_template(\"accounts/fee.html\")\r\n    @app.route(\"/fee_det\",methods=['POST'])\r\n    def feee_det(regno=''):\r\n        if(regno==''):\r\n            regno=request.form['Registration_Number']\r\n        sql=\"select course,branch,frname,lname from student where reg_no=%s;\"\r\n        val=(regno,)\r\n        cur.execute(sql,val)\r\n        cb=cur.fetchall()\r\n        print(cb)\r\n        sql=\"select fess from coursereg where course_name=%s and branch=%s;\"\r\n        val=(cb[0][0],cb[0][1])\r\n        cur.execute(sql,val)\r\n        cf=cur.fetchall()\r\n        print(\"pp\",cf)\r\n        data=[cb[0][0],cb[0][1],cb[0][2]+cb[0][2],regno]\r\n        print(data)\r\n        sql=\"select * from fees where regno=%s;\"\r\n        val=(regno,)\r\n        cur.execute(sql,val)\r\n        fees=cur.fetchall()\r\n        \r\n        t=[]\r\n        h=[]\r\n        a=[]\r\n        for i in fees:\r\n            if(i[3]=='t'):\r\n                t.append(int(i[2]))\r\n            elif(i[3]=='h'):\r\n                h.append(int(i[2]))\r\n            elif(i[3]=='a'):\r\n                a.append(int(i[2]))\r\n        print(sum(t),sum(h),sum(a))\r\n        sa=sum(a)\r\n        ha=sum(a)\r\n        ta=sum(a)\r\n        icf=int(cf[0][0])\r\n        print(icf)\r\n        return render_template(\"accounts/viewfees.html\",cf=icf,a=sa,h=ha,t=ta,dataa=data)\r\n    @app.route(\"/TAccounts\")\r\n    def tacc():\r\n        st=\"maintemp/admin_main.html\"\r\n        return render_template(st,temp=\"/tacc\")\r\n    @app.route(\"/tacc\")\r\n    def show_tAcc():\r\n        st=\"maintemp/\"+session['userrole']+\"main.html\"\r\n        return render_template(\"accounts/feet.html\")\r\n    @app.route(\"/HAccounts\")\r\n    def hacc():\r\n        st=\"maintemp/admin_main.html\"\r\n        return render_template(st,temp=\"/hacc\")\r\n    @app.route(\"/hacc\")\r\n    def show_hcc():\r\n        st=\"maintemp/\"+session['userrole']+\"main.html\"\r\n        return render_template(\"accounts/feeh.html\")\r\n    @app.route(\"/AAccounts\")\r\n    def aacc():\r\n        st=\"maintemp/admin_main.html\"\r\n        return render_template(st,temp=\"/aacc\")\r\n    @app.route(\"/aacc\")\r\n    def show_aAcc():\r\n        st=\"maintemp/\"+session['userrole']+\"main.html\"\r\n        return render_template(\"accounts/feea.html\")\r\n    \r\nclass adminplacement:\r\n    @app.route(\"/Addcompany\")\r\n    def Addcompany():\r\n        st=\"maintemp/admin_main.html\"\r\n        return render_template(st,temp=\"/Addcompanyicon\")\r\n    @app.route(\"/Addcompanyicon\")\r\n    def show_Addcompanymain():\r\n        st=\"maintemp/\"+session['userrole']+\"main.html\"\r\n        sql=\"select branch from coursereg;\"\r\n        cur.execute(sql)\r\n        es=cur.fetchall()\r\n        lenes=len(es)\r\n        return render_template(\"placement/Addcompany.html\",es=lenes,dataes=es)\r\n    @app.route(\"/addnewcmp\",methods=['POST'])\r\n    def adcmp():\r\n        cmpname=request.form['cmpname']\r\n        role=request.form['role']\r\n        abc=request.form.getlist('eligiblestream')\r\n        ten=request.form['ten']\r\n        twl=request.form['twl']\r\n        diploma=request.form['diploma']\r\n        gap=request.form['gap']\r\n        description=request.form['description']\r\n        stre=str(abc)\r\n        sql=\"insert into company(name,es,ten,tw,diploma,gap,descc,role) values(%s,%s,%s,%s,%s,%s,%s,%s);\"\r\n        val=(cmpname,stre,ten,twl,diploma,gap,description,role)\r\n        cur.execute(sql,val)\r\n        conn.commit()\r\n        return adminplacement.show_Addcompanymain()\r\n\r\n    @app.route(\"/adddrive\")\r\n    def adddrive():\r\n        st=\"maintemp/admin_main.html\"\r\n        return render_template(st,temp=\"/adddriveicon\")\r\n    @app.route(\"/adddriveicon\")\r\n    def show_adddrivemain():\r\n        st=\"maintemp/\"+session['userrole']+\"main.html\"\r\n        sql=\"select name from company;\"\r\n        cur.execute(sql)\r\n        es=cur.fetchall()\r\n        lenes=len(es)\r\n        return render_template(\"placement/adddrive.html\",es=lenes,dataes=es)\r\n    @app.route(\"/addnewdrive\",methods=['POST'])\r\n    def addrivecmp():\r\n        abc=request.form['eligiblestream']\r\n        sql=\"select id from company where name=%s;\"\r\n        val=(abc,)\r\n        cur.execute(sql,val)\r\n        a=cur.fetchall()\r\n        print(a[0][0])\r\n        date=request.form['date']\r\n        time=request.form['time']\r\n        venue=request.form['venue']\r\n        strr=a[0][0]\r\n        sql=\"insert into companydrive(cid,eventdate,eventtime,venue) values(%s,%s,%s,%s);\"\r\n        val=(strr,date,time,venue)\r\n        cur.execute(sql,val)\r\n        conn.commit()\r\n        print(a[0][0],date,time,venue)\r\n        return adminplacement.show_adddrivemain()\r\n\r\n    @app.route(\"/eligible_stu\")\r\n    def eligible():\r\n        st=\"maintemp/admin_main.html\"\r\n        return render_template(st,temp=\"/eligibleicon\")\r\n    @app.route(\"/eligibleicon\")\r\n    def eligiblemain():\r\n        st=\"maintemp/\"+session['userrole']+\"main.html\"\r\n        sql=\"select name from company;\"\r\n        cur.execute(sql)\r\n        es=cur.fetchall()\r\n        lenes=len(es)\r\n        return render_template(\"placement/eligible.html\",es=lenes,dataes=es)\r\n    \r\n    @app.route(\"/listecmp\",methods=['POST'])\r\n    def eligiblelistmain():\r\n        st=\"maintemp/\"+session['userrole']+\"main.html\"\r\n        eligiblestream=request.form['eligiblestream']\r\n        sql=\"select * from company where name=%s;\"\r\n        val=(eligiblestream,)\r\n        cur.execute(sql,val)\r\n        a=cur.fetchall()\r\n        c=list(a[0][2])\r\n        b=\"select reg_no,frname,lname,gender,course,branch from student \"\r\n        d=[]\r\n        for i in c:\r\n            if(i.isalpha()):\r\n                d.append(i)\r\n        for i in range(len(d)):\r\n            \r\n            if(i==0 and len(d)==1):\r\n                b=b+\"where branch='\"+d[i]+\"' \"\r\n            elif(i==0):\r\n                b=b+\"where branch='\"+d[i]+\"' or \"\r\n            elif(i!=len(d)-1):\r\n                b=b+\"branch='\"+d[i]+\"' or \"\r\n            else:\r\n                b=b+\"branch='\"+d[i]+\"' \"\r\n        \r\n        b=b+\"AND ten >= \"+str(a[0][3])+\" AND tw >= \"+str(a[0][4])+\" AND dip >= \"+str(a[0][5])+\" order by branch;\"\r\n        b=str(b)\r\n        cur.execute(b)\r\n        stu=cur.fetchall()\r\n        print(b)\r\n        lstu=len(stu)\r\n\r\n        return render_template(\"placement/list.html\",stud=stu,lstud=lstu)\r\nclass att:\r\n    @app.route(\"/Attendance\")\r\n    def att():\r\n        st=\"maintemp/admin_main.html\"\r\n        return render_template(st,temp=\"/course_attt\")\r\n    @app.route(\"/course_attt\")\r\n    def add_course_attt():\r\n\r\n        sql=\"select course_name,branch,sem from coursereg;\"\r\n        cur.execute(sql)\r\n        cr=cur.fetchall()\r\n        print(cr)\r\n        return render_template(\"academics/attselcourse.html\",course=cr,lenc=len(cr))\r\n    @app.route(\"/Yr_attt\",methods=[\"POST\"])\r\n    def add_yr_attt():\r\n        course=request.form.to_dict('bg')\r\n        course_br=(course['bg'])\r\n        course=course_br.split(\"'\")\r\n        print(course[1])\r\n        print(course[3])\r\n        print(course[5])\r\n        return render_template(\"academics/attselsem.html\",sem=int(course[5]),course=course[1],branch=course[3])\r\n   \r\n    @app.route(\"/Generate_attt\",methods=[\"POST\"])\r\n    def add_attt():\r\n        cours=request.form['course']\r\n        branc=request.form['branch']\r\n        semi=request.form['sem']\r\n        sem=int(semi)\r\n        tem=0\r\n        if(sem==1 or sem==2):\r\n            tem=(datetime.date.today().year)\r\n        if(sem==3 or sem==4):\r\n            tem=(datetime.date.today().year-1)\r\n        if(sem==5 or sem==6):\r\n            tem=(datetime.date.today().year-2)\r\n        if(sem==7 or sem==8):\r\n            tem=(datetime.date.today().year-3)\r\n        if(sem==9 or sem==10):\r\n            tem=(datetime.date.today().year-4)\r\n        sql=\"select frname,lname,reg_no from student where jy=%s and course=%s and branch=%s;\"\r\n        val=(tem,cours,branc)\r\n        cur.execute(sql,val)\r\n        cb=cur.fetchall()\r\n        print(cb)\r\n        return render_template(\"academics/atttendance.html\",sem=sem,data=cb,lend=len(cb))\r\n    \r\n    @app.route(\"/addpa\",methods=['POST'] )\r\n    def pa():\r\n        date=request.form['date']\r\n        time=request.form['time']\r\n        lenno=request.form['lenno']\r\n        sem=request.form['sem']\r\n        abbs=[]\r\n        rns=[]\r\n        for i in range(0,int(lenno)):\r\n            semi=\"att[\"+str(i)+\"]\"\r\n            att=request.form[semi]\r\n            semio=\"rno[\"+str(i)+\"]\"\r\n            rno=request.form[semio]\r\n            sql=\"insert into ap(regno,ap,sem,date,time) value(%s,%s,%s,%s,%s)\"\r\n            val=(att,rno,sem,date,time)\r\n            cur.execute(sql,val)\r\n            if(att=='a'):\r\n                abbs.append(att)\r\n                rns.append(rno)\r\n        conn.commit()\r\n        return render_template('academics/viewatt.html',abbs=abbs,rns=rns,lena=len(abbs))\r\n\r\n    @app.route(\"/ATt_set\")\r\n    def attset():\r\n        st=\"maintemp/admin_main.html\"\r\n        return render_template(st,temp=\"/set_attt\")\r\n    @app.route(\"/set_attt\")\r\n    def add_atttser():\r\n        b=['','08:00-09:00','09:00-10:00','10:00-11:00','11:00-12:00','12:00-13:00','13:00-14:00','14:00-15:00']\r\n        a=['Monday','Tuesday','Wednesday','Thrusday','Friday','Saturday']\r\n        return render_template(\"academics/ex.html\",day=a,time=b)\r\n\r\nclass tt:\r\n    @app.route(\"/Generate_tt\")\r\n    def tt():\r\n        st=\"maintemp/admin_main.html\"\r\n        return render_template(st,temp=\"/Generate_ttt\")\r\n    @app.route(\"/Generate_ttt\")\r\n    def add_ttt():\r\n        b=['','08:00-09:00','09:00-10:00','10:00-11:00','11:00-12:00','12:00-13:00','13:00-14:00','14:00-15:00']\r\n        a=['Monday','Tuesday','Wednesday','Thrusday','Friday','Saturday']\r\n        return render_template(\"academics/timetable.html\",day=a,time=b)\r\n    @app.route(\"/Tt_set\")\r\n    def ttset():\r\n        st=\"maintemp/admin_main.html\"\r\n        return render_template(st,temp=\"/set_ttt\")\r\n    @app.route(\"/set_ttt\")\r\n    def add_tttser():\r\n        b=['','08:00-09:00','09:00-10:00','10:00-11:00','11:00-12:00','12:00-13:00','13:00-14:00','14:00-15:00']\r\n        a=['Monday','Tuesday','Wednesday','Thrusday','Friday','Saturday']\r\n        return render_template(\"academics/timetableset.html\",day=a,time=b)\r\n    \r\nclass rms:\r\n    @app.route(\"/AResult\")\r\n    def rsm():\r\n        st=\"maintemp/admin_main.html\"\r\n        return render_template(st,temp=\"/rsm\")\r\n    @app.route(\"/rsm\")\r\n    def show_rsm(a=''):\r\n        b=''\r\n        if(a!=''):\r\n            b=True\r\n        st=\"maintemp/\"+session['userrole']+\"main.html\"\r\n        return render_template(\"result/rm.html\",ab=a,b=b)\r\n    @app.route(\"/rms\",methods=['POST'])\r\n    def show_rms():\r\n        regno=request.form['Registration_Number']\r\n        sql=\"select branch,course,frname,lname from student where reg_no=%s;\"\r\n        val=(regno,)\r\n        cur.execute(sql,val)\r\n        cb=cur.fetchall()\r\n        print(cb)\r\n        \r\n        sql=\"select sem,id from coursereg where branch=%s and course_name=%s;\"\r\n        val=(cb[0][0],cb[0][1])\r\n        cur.execute(sql,val)\r\n        cf=cur.fetchall()\r\n        print(cf)\r\n        sem=int(cf[0][0])\r\n        id=int(cf[0][1])\r\n        return render_template(\"result/rms.html\",a=sem,r=regno,idd=id)\r\n    \r\n    @app.route(\"/rmrs\",methods=['POST'])\r\n    def show_rmrs():\r\n        \r\n        sem=request.form['Registration_Number']\r\n        regno=request.form['regno']\r\n        idd=request.form['id']\r\n        \r\n        sql=\"select * from codereg where crid=%s and sem=%s;\"\r\n        val=(idd,sem)\r\n        cur.execute(sql,val)\r\n        cb=cur.fetchall()\r\n        lencbb=(len(cb))\r\n        print(cb)\r\n        return render_template(\"result/rmrs.html\",a=sem,r=regno,lencb=lencbb,sb=cb)\r\n    @app.route(\"/addrmrs\",methods=['POST'])\r\n    def addrmrs():\r\n        regno=request.form['reggno']\r\n        sem=request.form['sem']\r\n        cbkilen=request.form['cbkilen']\r\n        mode=request.form['mode']\r\n        for i in range(int(cbkilen)):\r\n            summ=\"sb\"+str(i)\r\n            summm=\"sb\"+str(i)+\"n\"\r\n            a=request.form[summ]\r\n            c=request.form[summm]\r\n            print(a,c)\r\n            sql=\"insert into result(regno,sem,subject,mode,marks) values(%s,%s,%s,%s,%s);\"\r\n            val=(regno,sem,a,mode,c)\r\n            cur.execute(sql,val)\r\n            conn.commit()\r\n        k=\"Result Added Successfully\"\r\n        return rms.show_rsm(k)\r\nclass vrms:\r\n    @app.route(\"/VResult\")\r\n    def vrsm():\r\n        st=\"maintemp/admin_main.html\"\r\n        return render_template(st,temp=\"/vrsm\")\r\n    @app.route(\"/vrsm\")\r\n    def vshow_rsm(a=''):\r\n        b=''\r\n        if(a!=''):\r\n            b=True\r\n        st=\"maintemp/\"+session['userrole']+\"main.html\"\r\n        return render_template(\"result/vrm.html\",ab=a,b=b)\r\n    @app.route(\"/vrms\",methods=['POST'])\r\n    def vshow_rms():\r\n        regno=request.form['Registration_Number']\r\n        sql=\"select course,branch,frname,lname from student where reg_no=%s;\"\r\n        val=(regno,)\r\n        cur.execute(sql,val)\r\n        cb=cur.fetchall()\r\n        print(cb)\r\n        \r\n        sql=\"select sem,id from coursereg where course_name=%s and branch=%s;\"\r\n        val=(cb[0][0],cb[0][1])\r\n        cur.execute(sql,val)\r\n        cf=cur.fetchall()\r\n        print(cf)\r\n        sem=int(cf[0][0])\r\n        id=int(cf[0][1])\r\n        return render_template(\"result/vrms.html\",a=sem,r=regno,idd=id)\r\n\r\n    \r\n    @app.route(\"/vrmrs\",methods=['POST'])\r\n    def vshow_rmrs():\r\n        \r\n        sem=request.form['Registration_Number']\r\n        regno=request.form['regno']\r\n        idd=request.form['id']\r\n        \r\n        sql=\"select * from result where regno=%s and sem=%s;\"\r\n        val=(regno,sem)\r\n        cur.execute(sql,val)\r\n        cb=cur.fetchall()\r\n        lencbb=(len(cb))\r\n        print(cb)\r\n        b=[]\r\n        c=[]\r\n        for i in cb:\r\n            if i[3] in b:\r\n                d=b.index(i[3])\r\n                e=c[d]\r\n                c.pop(d)\r\n                c.insert(d,e+int(i[5]))\r\n                print(e)\r\n            else:\r\n                b.append(i[3])\r\n                c.append(int(i[5]))\r\n\r\n        print(b,c)\r\n        gg=len(b)\r\n        return render_template(\"result/vrmrs.html\",a=sem,r=regno,lenb=gg,b=b,c=c)\r\nclass Student:\r\n    @app.route(\"/add_student\")  \r\n    def addStudent():\r\n        st=\"maintemp/admin_main.html\"\r\n        return render_template(st,temp=\"/stu\")\r\n\r\n    @app.route(\"/stu\")\r\n    def add_stu():\r\n        sql=\"select distinct branch,course_name from coursereg;\"\r\n        cur.execute(sql)\r\n        cb=cur.fetchall()\r\n        print(cb)\r\n        conn.commit()\r\n        return render_template('adduser/addstu_form.html',cblen=len(cb),cbb=cb)\r\n\r\n    \r\nclass Placement:\r\n    @app.route(\"/add_placement\")  \r\n    def addPlacement():\r\n        st=\"maintemp/admin_main.html\"\r\n        return render_template(st,temp=\"/pla\")\r\n\r\n    @app.route(\"/pla\")\r\n    def add_pla():\r\n        return render_template('adduser/addpla_form.html')\r\n\r\nclass Faculty:\r\n    @app.route(\"/add_faculty\")  \r\n    def addFaculty():\r\n        st=\"maintemp/admin_main.html\"\r\n        return render_template(st,temp=\"/fac\")\r\n\r\n    @app.route(\"/fac\")\r\n    def add_fac():\r\n        return render_template('adduser/addfac_form.html')\r\n        \r\nclass viewwuser:\r\n    @app.route(\"/view_users\")  \r\n    def vu():\r\n        st=\"maintemp/admin_main.html\"\r\n        return render_template(st,temp=\"/vuu\")\r\n\r\n    @app.route(\"/vuu\")\r\n    def show_vu():\r\n        sql=\"select * from users;\"\r\n        cur.execute(sql)\r\n        cb=cur.fetchall()\r\n        print(cb)\r\n        return render_template('adduser/viewuser.html',cblen=len(cb),cbb=cb)\r\nclass Warden:\r\n    @app.route(\"/add_warden\")  \r\n    def addWarden():\r\n        st=\"maintemp/admin_main.html\"\r\n        return render_template(st,temp=\"/war\")\r\n        \r\n    @app.route(\"/war\")\r\n    def add_war():\r\n        return render_template('adduser/addwar_form.html')\r\n\r\nclass Accounts:\r\n    @app.route(\"/add_accounts\")  \r\n    def addAccounts():\r\n        st=\"maintemp/admin_main.html\"\r\n        return render_template(st,temp=\"/acc\")\r\n        \r\n    @app.route(\"/acc\")\r\n    def add_acc():\r\n        return render_template('adduser/addacc_form.html')\r\nclass Transport:\r\n    @app.route(\"/add_transport\")    \r\n    def addTransport():\r\n        st=\"maintemp/admin_main.html\"\r\n        return render_template(st,temp=\"/tra\")\r\n        \r\n    @app.route(\"/tra\")\r\n    def add_tra():\r\n        return render_template('adduser/addtra_form.html')\r\nclass Library:\r\n    @app.route(\"/addbook\")  \r\n    def addLibrary():\r\n        st=\"maintemp/admin_main.html\"\r\n        return render_template(st,temp=\"/abook\")\r\n    @app.route(\"/abook\")\r\n    def addbook():\r\n        sql1=\"select publication from book_publication;\"\r\n        cur.execute(sql1)\r\n        datap=cur.fetchall()\r\n        lendataA=len(datap)\r\n        sql1=\"select author from book_author;\"\r\n        cur.execute(sql1)\r\n        dataa=cur.fetchall()\r\n        lendataB=len(dataa)\r\n        return render_template('library/addbook.html',datapp=datap,dataaa=dataa,lendataAp=lendataA,lendataBa=lendataB)\r\n    @app.route(\"/addbookk\",methods=['POST'])\r\n    def addbookk():\r\n        bname=request.form['bname']\r\n        bauthor=request.form['bauthor']\r\n        bedition=request.form['bedition']\r\n        bpublisher=request.form['bpublisher']\r\n        stock=0\r\n        issue=0\r\n        sql1=\"select * from library;\"\r\n        cur.execute(sql1)\r\n        data=cur.fetchall()\r\n        code=(data[-1][-1]+1)\r\n        sql=\"insert into library(bname,bauthor,bedition,bpublisher,book_stock,issue,code) values(%s,%s,%s,%s,%s,%s,%s);\"\r\n        val=(bname,bauthor,bedition,bpublisher,stock,issue,code)\r\n        cur.execute(sql,val)\r\n        conn.commit()\r\n        return(\"Book Added Successfully and Book Number is \"+str(code))\r\n    @app.route(\"/viewbook\")  \r\n    def viewLibrary():\r\n        st=\"maintemp/admin_main.html\"\r\n        return render_template(st,temp=\"/vbook\")\r\n    @app.route(\"/vbook\")\r\n    def viewbook():\r\n        sql1=\"select publication from book_publication;\"\r\n        cur.execute(sql1)\r\n        datap=cur.fetchall()\r\n        lendataA=len(datap)\r\n        sql1=\"select author from book_author;\"\r\n        cur.execute(sql1)\r\n        dataa=cur.fetchall()\r\n        lendataB=len(dataa)\r\n        sql1=\"select bname,code from library;\"\r\n        cur.execute(sql1)\r\n        bname=cur.fetchall()\r\n        lenBname=len(dataa)\r\n        return render_template('library/viewbook.html',datapp=datap,dataaa=dataa,bdata=bname,lenBnamep=lenBname,lendataAp=lendataA,lendataBa=lendataB)\r\n    \r\n    @app.route(\"/searchbook\",methods=['POST'])\r\n    def searchbook():\r\n        bname=request.form['bname']\r\n        bauthor=request.form['bauthor']\r\n        bpublisher=request.form['bpublisher']\r\n        bcode=request.form['bcode']\r\n        print(len(bname),len(bauthor),len(bpublisher),len(bcode))\r\n        c=\"select * from library \"\r\n        b=\"where \"\r\n        a=\"\"\r\n        e=0\r\n        if(len(bname)!=0):\r\n            e=1\r\n            a=a+\"bname = '\"+bname+\"' \"\r\n        if(len(bauthor)!=0):\r\n            e=1\r\n            a=a+\"bauthor = '\"+bauthor+\"' \"\r\n        if(len(bpublisher)!=0):\r\n            e=1\r\n            a=a+\"bpublisher = '\"+bpublisher+\"' \"\r\n        if(len(bcode)!=0):\r\n            e=1\r\n            a=a+\"code = '\"+bcode+\"' \"\r\n\r\n        dd=\"\"\r\n        if(e==1):\r\n            dd=(c+b+a+\";\")\r\n        else:\r\n            dd=(c+\";\")\r\n        cur.execute(dd)\r\n        data=cur.fetchall()\r\n        print(data)\r\n        return render_template(\"library/showbook.html\",t=len(data),c=data)\r\n    @app.route(\"/addauthor\")  \r\n    def addauthor():\r\n        st=\"maintemp/admin_main.html\"\r\n        return render_template(st,temp=\"/aauthor\")\r\n    @app.route(\"/aauthor\")\r\n    def aauthor():\r\n        sql1=\"select author from book_author;\"\r\n        cur.execute(sql1)\r\n        data=cur.fetchall()\r\n        print(data)\r\n        lendataA=len(data)\r\n        return render_template('library/bookauthor.html',dataa=data,lendata=lendataA)\r\n    @app.route(\"/addingauthor\",methods=['POST'])\r\n    def addingauthor():\r\n        bauthor=request.form['bauthor']\r\n        sql=\"insert into book_author(author) values(%s);\"\r\n        val=(bauthor,)\r\n        cur.execute(sql,val)\r\n        conn.commit()\r\n        return Library.aauthor()\r\n    @app.route(\"/addpublisher\")  \r\n    def addpublisher():\r\n        st=\"maintemp/admin_main.html\"\r\n        return render_template(st,temp=\"/apublisher\")\r\n    @app.route(\"/apublisher\")\r\n    def apublisher():\r\n        sql1=\"select publication from book_publication;\"\r\n        cur.execute(sql1)\r\n        data=cur.fetchall()\r\n        print(data)\r\n        lendataA=len(data)\r\n        return render_template('library/bookpublisher.html',dataa=data,lendata=lendataA)\r\n    @app.route(\"/addingpublisher\",methods=['POST'])\r\n    def addingpublisher():\r\n        bauthor=request.form['bpublisher']\r\n        sql=\"insert into book_publication(publication) values(%s);\"\r\n        val=(bauthor,)\r\n        cur.execute(sql,val)\r\n        conn.commit()\r\n        return Library.apublisher()\r\n    @app.route(\"/stockviewbook\")  \r\n    def stockviewLibrary():\r\n        st=\"maintemp/admin_main.html\"\r\n        return render_template(st,temp=\"/stockvbook\")\r\n    @app.route(\"/stockvbook\")\r\n    def stockviewbook():\r\n        return render_template('library/viewstock.html')\r\n    @app.route(\"/stockaddbook\")  \r\n    def stockaddLibrary():\r\n        st=\"maintemp/admin_main.html\"\r\n        return render_template(st,temp=\"/stockabook\")\r\n    @app.route(\"/stockabook\")\r\n    def stockaddbook():\r\n        return render_template('library/addstock.html')\r\nclass add_sturoles:\r\n    @app.route(\"/addsturole\",methods=['POST'])\r\n    def add_stu_role():\r\n        f_n=request.form['f_n']\r\n        l_n=request.form['l_n']\r\n        date=request.form['date']\r\n        fatn=request.form['fatn']  \r\n        fatnum=request.form['fatnum']\r\n        focc=request.form['focc']\r\n        mname=request.form['mname']\r\n        mnum=request.form['mnum']\r\n        mocc=request.form['mocc']\r\n        address=request.form['address']\r\n        city=request.form['city']\r\n        State=request.form['state']\r\n        phno=request.form['phno']\r\n        customRadio=request.form['customRadio']\r\n        aano=request.form['aano']\r\n        course=request.form['course']\r\n        branch=request.form['branch']\r\n        bg=request.form['bg']\r\n        ten=request.form['ten']\r\n        tenb=request.form['tenb']\r\n        tw=request.form['tw']\r\n        twb=request.form['twb']\r\n        diploma=request.form['diploma']\r\n        du=request.form['du']\r\n        Bachelor=request.form['Bachelor']\r\n        bu=request.form['bu']\r\n        role=request.form['role']\r\n        year=request.form['year']\r\n        sql=\"select id from users;\"\r\n        cur.execute(sql)\r\n        id=cur.fetchall()\r\n        userid=role+\"@\"+f_n+l_n+str(id[-1][0]+1)\r\n        sql=\"insert into parents(stuis,Fathername,father_occ,mothername,motherocc,mobno) values(%s,%s,%s,%s,%s,%s);\"\r\n        val=(userid,fatn,focc,mname,mocc,fatnum)\r\n        cur.execute(sql,val)\r\n        conn.commit()\r\n        name=f_n+l_n\r\n        rolec=\"Parent\"\r\n        sql=\"insert into users(name,user_id,passwd,role)values(%s,%s,%s,%s);\"\r\n        val=(name,fatnum,date,rolec)\r\n        cur.execute(sql,val)\r\n        conn.commit()\r\n        \r\n        sql=\"select idparents from parents where stuis=%s;\"\r\n        val=(userid,)\r\n        cur.execute(sql,val)\r\n        pid=cur.fetchall()\r\n        parid=(pid[-1][0])\r\n        sql=\"insert into student(frname,lname,dob,p_id,address,city,state,mob_no,gender,aadhar,course,branch,bg,reg_no,ten,tenb,tw,twb,dip,dm,bd,buc,jy) values(%s,%s,%s,%s,%s,%s,%s,%s,%s,%s,%s,%s,%s,%s,%s,%s,%s,%s,%s,%s,%s,%s,%s);\"\r\n        val=(f_n,l_n,date,parid,address,city,State,phno,customRadio,aano,course,branch,bg,userid,ten,tenb,tw,twb,diploma,du,Bachelor,bu,year)\r\n        cur.execute(sql,val)\r\n        conn.commit()\r\n        pas=role+\"@123\"\r\n        sql=\"insert into users(name,user_id,passwd,role)values(%s,%s,%s,%s);\"\r\n        val=(name,userid,pas,role)\r\n        cur.execute(sql,val)\r\n        conn.commit()\r\n        return Student.add_stu()\r\n\r\nclass add_roles:\r\n    @app.route(\"/addnewrole\",methods=['POST'])\r\n    def add_role():\r\n        f_n=request.form['f_n']\r\n        l_n=request.form['l_n']\r\n        date=request.form['date']\r\n        Qualification=request.form['Qualification']\r\n        salary=request.form['salary']\r\n        customRadio=request.form['customRadio']\r\n        aano=request.form['aano']\r\n        bg=request.form['bg']\r\n        role=request.form['role']\r\n        sql=\"select id from users;\"\r\n        cur.execute(sql)\r\n        id=cur.fetchall()\r\n        sql=\"insert into role(fname,lname,dob,qualification,salary,gender,aano,bg,role)values(%s,%s,%s,%s,%s,%s,%s,%s,%s);\"\r\n        val=(f_n,l_n,date,Qualification,salary,customRadio,aano,bg,role)\r\n        cur.execute(sql,val)\r\n        userid=role+\"@\"+f_n+l_n+str(id[-1][0]+1)\r\n        password=role+\"@123\"\r\n        name=f_n+l_n\r\n        sql=\"insert into users(name,user_id,passwd,role)values(%s,%s,%s,%s);\"\r\n        val=(name,userid,password,role)\r\n        cur.execute(sql,val)\r\n        conn.commit()\r\n        if(role==\"Warden\"):\r\n            return Warden.add_war()\r\n        elif(role==\"Placement\"):\r\n            return Placement.add_pla()\r\n        elif(role==\"Accounts\"):\r\n            return Accounts.add_acc()\r\n        elif(role==\"Transport\"):\r\n            helllo\r\n            return Transport.add_tra()\r\n        elif(role==\"Library\"):\r\n            return Library.add_lib()\r\n        elif(role==\"Faculty\"):\r\n            return Faculty.add_fac()\r\n\r\nclass view_notice:\r\n    @app.route(\"/notice\")\r\n    def view_notice():\r\n        st=\"maintemp/\"+session['userrole']+\"_main.html\"\r\n        return render_template(st,temp=\"/shownotice\")\r\n    @app.route(\"/shownotice\")\r\n    def show_notice():\r\n        sql=\"select id,date,name,details,category,file from notice order by id desc;\"\r\n        cur.execute(sql)\r\n        data=cur.fetchall()\r\n        print(data)\r\n        st=\"maintemp/\"+session['userrole']+\"main.html\"\r\n        return render_template(\"notice/viewnotice.html\",t=len(data),c=data)\r\n\r\nclass addcourse:\r\n\r\n    @app.route(\"/courseadd\")\r\n    def course():\r\n        dst=\"maintemp/admin_main.html\"\r\n        return render_template(dst,temp=\"/coursevie\")\r\n        \r\n    @app.route(\"/coursevie\")\r\n    def coursevie():\r\n        return render_template('course/course.html')\r\n\r\n    @app.route(\"/addcoursesem\",methods=['POST'])\r\n    def addcoursesem():\r\n        coursename=request.form['cname']\r\n        year=request.form['year']\r\n        sem=request.form['sem']\r\n        branchname=request.form['branchname']\r\n        yff=request.form['yf']\r\n        print(coursename,year,sem,branchname)\r\n        sql=\"insert into coursereg(course_name,year,sem,branch,fess)values(%s,%s,%s,%s,%s);\"\r\n        val=(coursename,year,sem,branchname,yff)\r\n        cur.execute(sql,val)\r\n        conn.commit()\r\n        sql=\"select id from coursereg where course_name=%s and year=%s and sem=%s and branch=%s and fess=%s;\"\r\n        val=(coursename,year,sem,branchname,yff)\r\n        cur.execute(sql,val)\r\n        ages=(cur.fetchall()[-1][0])\r\n        dst=\"maintemp/admin_main.html\"\r\n        return render_template('course/coursesem.html',crid=ages,semm=int(sem))\r\n    @app.route(\"/addnosem\",methods=['POST'])\r\n    def addcoursenosem():\r\n        g=[]\r\n        sem=request.form['sem']\r\n        crid=request.form['cridd']\r\n        seem=int(sem)\r\n        for i in range(1,seem+1):\r\n            semi=\"sem\"+str(i)\r\n            semi=request.form[semi]\r\n            g.append(int(semi))\r\n        print(crid)\r\n        return render_template('course/courseseem.html',tg=g,slen=g,semm=seem,cridd=crid)\r\n    @app.route(\"/addsubsem\",methods=['POST'])\r\n    def addcoursesubsem():\r\n        tt=request.form['tt']\r\n        crid=request.form['crid']\r\n        print(crid)\r\n        a=list(tt)\r\n        print(a)\r\n        b=[]\r\n        for i in a:\r\n            if(ord(i)>=48 and ord(i)<=57):\r\n                b.append(i)\r\n        for i in range(len(b)):\r\n            for j in range(int(b[i])):\r\n                semm=\"sem\"+str(i+1)\r\n                summ=\"sem\"+str(i+1)+\"sub\"+str(j+1)\r\n                a=request.form[semm]\r\n                c=request.form[summ]\r\n                sql=\"insert into codereg(crid,subject,sem) values(%s,%s,%s);\"\r\n                val=(crid,c,a)\r\n                cur.execute(sql,val)\r\n                conn.commit()\r\n\r\n        return \"hello\"\r\n    \r\nclass main():\r\n    @app.route(\"/\")\r\n    def index():\r\n        return render_template('welcomescreen.html')\r\n    @app.route(\"/login\")\r\n    def login():\r\n        return render_template('login.html',error=\"All Fields are Manodatry\")\r\n    @app.route('/addlogin',methods=['POST'])\r\n    def hello_world():\r\n        if(request.method=='POST'):\r\n            a=request.form['userid']\r\n            b=request.form['passcode']\r\n            sql=\"select role,name,user_id from users where user_id=%s and passwd=%s;\"\r\n            val=a,b\r\n            cur.execute(sql,val)\r\n            gg=cur.fetchall()\r\n            print(len(gg))\r\n            if(len(gg)==1):\r\n                print(gg)\r\n                session['userid']=gg[0][2]\r\n                session['user']=gg[0][1]\r\n                session['userrole']=gg[0][0]\r\n                print(session)\r\n                st=\"maintemp/\"+gg[0][0]+\"_main.html\"\r\n                print(st)\r\n                return render_template(st)\r\n                    \r\n            else:\r\n                erro=\"The User Id and Password is Incorrect\"\r\n                return render_template('login.html',error=erro)\r\n            \r\n        return \"Hello\"\r\n\r\napp.run(debug=True,host=\"0.0.0.0\")"
        }
    ]
}